(this.webpackJsonpncm=this.webpackJsonpncm||[]).push([[0],{212:function(e,t,a){e.exports=a(408)},217:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){},408:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(37),o=a.n(i),r=(a(217),a(11)),c=(a(222),a(223),a(224),a(1)),l=a.n(c),d=a(2),u=a(14),m=a(9),p=a(10),h=a(13),g=a(12),b=a(4),f=a.n(b),v={USERLOGIN_REQUEST:"USERLOGIN_REQUEST",USERLOGIN_SUCCESS:"USERLOGIN_SUCCESS",USERLOGIN_FAILURE:"USERLOGIN_FAILURE",STORE_CURRENT_USER:"STORE_CURRENT_USER",STORE_CURRENT_USER_SETTINGS:"STORE_CURRENT_USER_SETTINGS",GET_CURRENT_USER_FROM_STORE:"GET_CURRENT_USER_FROM_STORE",UPDATE_TAB_DATA:"UPDATE_TAB_DATA"},y="PLAYER_LOGIN",E="STORE_CURRENT_GAME_DETAILS",k="STORE_CURRENT_PLAYER_CREDENTIALS",C="CREATE_NEW_GAME",N="UPDATE_CURRENT_PLAYER_ID",O="REMOVE_CURRENT_PLAYER_ID",S="SET_TAB_TO_STORE",w="SET_GAME_PLAYER",R="SET_NOTIFICATION_TO_STORE";var x=function(e){return{type:v.UPDATE_TAB_DATA,tabSettings:e}},D=function(e){return{type:C,gameData:e}},L=a(16),j=a.n(L),T=a(3),A=(a(29),a(209)),I=a(210),P=a.n(I),U=a(7),M=(a(30),a(31),a(32),a(35),a(33),a(18)),z=a(19),_=a.n(z),F=a(34),V=a(17),B=a.n(V),J=[{label:"Series 1",data:[{x:1,y:10},{x:2,y:20},{x:3,y:30}]},{label:"Series 2",data:[{x:1,y:20},{x:2,y:40},{x:3,y:70}]},{label:"Series 3",data:[{x:1,y:10},{x:2,y:50},{x:3,y:800}]}],G=[{primary:!0,type:"linear",position:"bottom"},{type:"linear",position:"left"}],W=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onClickTab=function(e){n.props.updateTabNavigation({TabName:e})},n.state={isLoading:!1,isPopupOpen:!1,actionType:null,userCount:0,vendorCount:0,deviceCount:0,organizationCount:0},n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.loadDashboard()}},{key:"loadDashboard",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=2,e.next=5,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/dashboard").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 5:t=e.sent,(a=t.body).success?this.setState({dashboardData:a.ResponsePacket,isLoading:!1},(function(){if(4==a.ResponsePacket.length){var e=a.ResponsePacket;n.setState({userCount:e[0].rows,vendorCount:e[1].rows,deviceCount:e[2].rows,organizationCount:e[3].rows})}})):this.setState({isLoading:!1}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),this.setState({isLoading:!1}),alert("Error...");case 14:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.tabNames;return s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"content-header"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row mb-2"},s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("h1",{className:"m-0 text-dark"},"Dashboard")),s.a.createElement("div",{className:"col-sm-6"})))),s.a.createElement("section",{className:"content"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-3 col-6"},s.a.createElement("div",{className:"small-box bg-info"},s.a.createElement("div",{className:"inner"},s.a.createElement("h3",null,this.state.userCount),s.a.createElement("p",null,"Users")),s.a.createElement("div",{className:"icon"},s.a.createElement("i",{className:"ion ion-person"})),s.a.createElement("a",{onClick:this.onClickTab.bind(this,e[1]),className:"small-box-footer"},"More info ",s.a.createElement("i",{className:"fas fa-arrow-circle-right"})))),s.a.createElement("div",{className:"col-lg-3 col-6"},s.a.createElement("div",{className:"small-box bg-info"},s.a.createElement("div",{className:"inner"},s.a.createElement("h3",null,this.state.vendorCount,s.a.createElement("sup",{style:{fontSize:"20px"}})),s.a.createElement("p",null,"Vendors")),s.a.createElement("div",{className:"icon"},s.a.createElement("i",{className:"ion ion-person"})),s.a.createElement("a",{onClick:this.onClickTab.bind(this,e[4]),className:"small-box-footer"},"More info ",s.a.createElement("i",{className:"fas fa-arrow-circle-right"})))),s.a.createElement("div",{className:"col-lg-3 col-6"},s.a.createElement("div",{className:"small-box bg-info"},s.a.createElement("div",{className:"inner"},s.a.createElement("h3",null,this.state.deviceCount),s.a.createElement("p",null,"Devices")),s.a.createElement("div",{className:"icon"},s.a.createElement("i",{className:"ion ion-laptop"})),s.a.createElement("a",{onClick:this.onClickTab.bind(this,e[5]),className:"small-box-footer"},"More info ",s.a.createElement("i",{className:"fas fa-arrow-circle-right"})))),s.a.createElement("div",{className:"col-lg-3 col-6"},s.a.createElement("div",{className:"small-box bg-info"},s.a.createElement("div",{className:"inner"},s.a.createElement("h3",null,this.state.organizationCount),s.a.createElement("p",null,"Organizations")),s.a.createElement("div",{className:"icon"},s.a.createElement("i",{className:"ion ion-pie-graph"})),s.a.createElement("a",{onClick:this.onClickTab.bind(this,e[8]),className:"small-box-footer"},"More info ",s.a.createElement("i",{className:"fas fa-arrow-circle-right"}))))),s.a.createElement("div",{className:"row"},s.a.createElement("section",{className:"col-lg-7 connectedSortable"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header"},s.a.createElement("h3",{className:"card-title"},s.a.createElement("i",{className:"fas fa-chart-pie mr-1"}),"Sales"),s.a.createElement("div",{className:"card-tools"},s.a.createElement("ul",{className:"nav nav-pills ml-auto"},s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link active",href:"#revenue-chart","data-toggle":"tab"},"Area")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link",href:"#sales-chart","data-toggle":"tab"},"Donut"))))),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"tab-content p-0"},s.a.createElement("div",{className:"chart tab-pane active",id:"revenue-chart",style:{position:"relative",height:"300px"}},s.a.createElement("div",{style:{height:"300px"}},s.a.createElement(A.Chart,{data:J,axes:G}))),s.a.createElement("div",{className:"chart tab-pane",id:"sales-chart",style:{position:"relative",height:"300px"}},s.a.createElement(P.a,{height:"300",width:"450",data:[{label:"Give you up",value:15},{label:"",value:50,isEmpty:!0}]}))))),s.a.createElement("div",{className:"card"})),s.a.createElement("section",{className:"col-lg-5 connectedSortable"},s.a.createElement("div",{className:"card "},s.a.createElement("div",{className:"card-header border-0"},s.a.createElement("h3",{className:"card-title"},s.a.createElement("i",{className:"fas fa-map-marker-alt mr-1"}),"Visitors"),s.a.createElement("div",{className:"card-tools"},s.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm daterange","data-toggle":"tooltip",title:"Date range"},s.a.createElement("i",{className:"far fa-calendar-alt"})),s.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm","data-card-widget":"collapse","data-toggle":"tooltip",title:"Collapse"},s.a.createElement("i",{className:"fas fa-minus"})))),s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{id:"world-map",style:{height:"250px",width:"100%"}})),s.a.createElement("div",{className:"card-footer bg-transparent"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-4 text-center"},s.a.createElement("div",{id:"sparkline-1"}),s.a.createElement("div",{className:"text-white"},"Visitors")),s.a.createElement("div",{className:"col-4 text-center"},s.a.createElement("div",{id:"sparkline-2"}),s.a.createElement("div",{className:"text-white"},"Online")),s.a.createElement("div",{className:"col-4 text-center"},s.a.createElement("div",{id:"sparkline-3"}),s.a.createElement("div",{className:"text-white"},"Sales"))))),s.a.createElement("div",{className:"card direct-chat direct-chat-primary"}))))))}}]),a}(n.Component),q=Object(r.b)((function(e){return{tabSettings:e.userReducer.tabSettings,tabNames:e.userReducer.tabNames}}),(function(e){return{updateTabNavigation:function(t){e(x(t))}}}))(W),H=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).onClickTab=function(t){e.props.updateTabNavigation({TabName:t})},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.props.tabNames;return s.a.createElement("div",{className:"card",style:{paddingTop:"20px"}},s.a.createElement("section",{className:"container-fluid "},s.a.createElement("div",{className:"row"},t.map((function(a,n){return s.a.createElement("div",{className:"col-lg-2 col-6"},s.a.createElement("div",{className:"small-box bg-info"},s.a.createElement("div",{className:"inner"},s.a.createElement("h3",{style:{color:"transparent"}},"-"),s.a.createElement("h5",null,t[n])),s.a.createElement("div",{className:"icon"},s.a.createElement("i",{className:"ion ion-bag"})),s.a.createElement("a",{onClick:e.onClickTab.bind(e,t[n]),className:"small-box-footer"},"More info ",s.a.createElement("i",{className:"fas fa-arrow-circle-right"}))))})))))}}]),a}(n.Component),K=(Object(r.b)((function(e){return{tabSettings:e.userReducer.tabSettings,tabNames:e.userReducer.tabNames}}),(function(e){return{updateTabNavigation:function(t){e(x(t))}}}))(H),a(5)),Y=a(62),Q=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onTextChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.value))},n.showAlert=function(e){Object(T.confirmAlert)({title:"Login",message:e,buttons:[{label:"Ok",onClick:function(){}}],closeOnCllickOutside:!1,closeOnEscape:!1})},n.state={gameName:"NCM",username:"admin",password:"",newPassword:"",confirmPassword:"",isLoading:!1},n.validator=new B.a({autoForceUpdate:Object(K.a)(n)}),n.apiBase="https://ncm-heroku.herokuapp.com/api/v1//api",n}return Object(p.a)(a,[{key:"updateAdminPassword",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.newPassword==this.state.confirmPassword){e.next=3;break}return this.showAlert("New password and confirm password do not match!!"),e.abrupt("return");case 3:return this.setState({isLoading:!0}),e.next=6,f.a.post("".concat(this.apiBase,"/updateAdmin")).send({username:this.state.username,password:this.state.password,newPassword:this.state.newPassword});case 6:t=e.sent,(a=t.body).success?this.setState({isLoading:!1,password:"",newPassword:"",confirmPassword:""},(function(){n.showAlert(a.message)})):this.setState({isLoading:!1},(function(){n.showAlert(a.message)}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement(j.a,{active:this.state.isLoading,spinner:!0},s.a.createElement("div",{className:"card m-10"},s.a.createElement("section",{className:"content"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"card-body py-5"},s.a.createElement("div",null,s.a.createElement("h1",{className:"profile-username text-center"},"Change Admin Password"),s.a.createElement("br",null)),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"emailAddress"},"Current Password"),s.a.createElement("input",{type:"password",onChange:this.onTextChange,id:"password",value:this.state.password,className:"form-control"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"emailAddress"},"New Password"),s.a.createElement("input",{type:"password",onChange:this.onTextChange,id:"newPassword",value:this.state.newPassword,className:"form-control"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"emailAddress"},"Confirm New Password"),s.a.createElement("input",{type:"password",onChange:this.onTextChange,id:"confirmPassword",value:this.state.confirmPassword,className:"form-control"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("button",{disabled:!0,type:"button",className:"btn btn-info float-right",onClick:this.updateAdminPassword.bind(this)},"Submit"))))))))))}}]),a}(n.Component),X=Object(r.b)((function(e){return{gameList:e.gameReducer.gameList}}),(function(e){return Object(Y.b)({createNewGame:D},e)}))(Q),Z=a(22),$=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onGridReady=function(e){n.gridApi=e.api,n.gridColumnApi=e.columnApi},n.onBtStartEditing=function(e,t,a){n.gridApi.setFocusedCell(0,"lastName",a),n.gridApi.startEditingCell({rowIndex:0,colKey:"lastName",rowPinned:a,keyPress:e,charPress:t})},n.clearState=function(){n.setState({selectedRow:null,isPopupOpen:!1,isDeleted:!1}),n.validator.hideMessages()},n.onTextChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.value))},n.onClickTab=function(e){n.props.updateTabNavigation({TabName:e})},n.handleChange=function(e){n.setState({selectedRoleCard:e},(function(){return console.log("Option selected:",n.state.selectedRoleCard)}))},n.onEditorStateChange=function(e){n.setState({editorState:e,description:e&&_()(Object(M.convertToRaw)(e.getCurrentContent()))})},n.onUserRoleChange=function(e,t){"select-option"==t.action&&n.setState({selectedUserRole:e,roleId:e.id})},n.onSalutationChange=function(e,t){"select-option"==t.action&&n.setState({salutations:e})},n.onSelectionChanged=function(){var e=n.gridApi.getSelectedRows();n.setState({selectedRow:e&&e.length>0?e[0]:null})},n.state={isLoading:!1,selectedRoleCard:null,selectedSequence:null,modules:U.AllModules,columnDefs:[{field:"id",headerName:"id",maxWidth:150},{field:"username",headerName:"Username",maxWidth:150},{field:"usersFirstName",headerName:"FirstName",maxWidth:150},{field:"usersLastName",headerName:"LastName",maxWidth:150},{field:"roleName",headerName:"Roles",cellStyle:{"white-space":"normal"},maxWidth:150},{field:"email",headerName:"Email Address",cellStyle:{"white-space":"normal"}}],defaultColDef:{flex:1,minWidth:100,sortable:!0,resizable:!0,autoHeight:!0,filter:!0},getRowHeight:function(e){return 18*(Math.floor(e.data.description.length/50)+1)},rowSelection:"single",selectedRow:null,paginationPageSize:10,rowData:[],editorState:null,organisation:"",userRoleList:[],selectedUserRole:null,recentlyCreatedOrgUserId:"",isPopupOpen:!1,actionType:null,username:"",password:"",confirm_password:"",usersFirstName:"",usersLastName:"",email:"",roleId:null,age:"",phone:"",website:"",addressId:"",salutation:"",salutations:null,SalutationList:[{label:"Mr.",value:"Mr."},{label:"Mrs.",value:"Mrs."}]},n.onCreateUser=n.onCreateUser.bind(Object(K.a)(n)),n.onAddEditUser=n.onAddEditUser.bind(Object(K.a)(n)),n.onDeleteUser=n.onDeleteUser.bind(Object(K.a)(n)),n.onEditUserName=n.onEditUserName.bind(Object(K.a)(n)),n.validator=new B.a({autoForceUpdate:Object(K.a)(n)}),n.apiBase="https://ncm-heroku.herokuapp.com/api/v1//api",n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.loadUsers(),this.loadUserRoles()}},{key:"loadUsers",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/users").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({rowData:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadUserRoles",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/roles").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({userRoleList:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"onCreateUser",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c,d,u,m,p,h=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,t.selectedUserRole,t.username,a=t.password,t.confirm_password,n=t.usersFirstName,s=t.usersLastName,i=t.email,o=t.roleId,t.age,r=t.phone,c=t.website,d=t.addressId,t.salutation,u=t.salutations,this.setState({isLoading:!0}),e.next=7,f.a.post("https://ncm-heroku.herokuapp.com/api/v1/users").send({username:n+Math.floor(23434*Math.random()),password:a,confirm_password:a,usersFirstName:n,usersLastName:s,email:i,roleId:o,age:20,phone:r,website:c,addressId:d,salutation:u.value,isDeleted:!1});case 7:m=e.sent,(p=m.body).success?this.setState({name:"",organisationId:"",description:"",isLoading:!1,isPopupOpen:!1},(function(){h.loadUsers(),Object(T.confirmAlert)({title:"Users",message:p.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"Users",message:p.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onEditUserName",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c,d,u,m,p,h,g=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.selectedUserRole,t.selectedSequence,n=t.selectedRow,t.id,s=t.usersFirstName,i=t.usersLastName,o=t.email,r=t.phone,c=t.website,t.salutation,d=t.addressId,t.password,t.username,t.roleId,t.confirm_password,u=t.age,m=t.salutations,this.setState({isLoading:!0}),e.next=7,f.a.patch("https://ncm-heroku.herokuapp.com/api/v1/users/id/"+n.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token"))).send({password:"test@123",confirm_password:"test@123",usersFirstName:s,usersLastName:i,email:o,roleId:a.id,age:u,phone:r,website:c,addressId:d,salutation:m.value});case 7:p=e.sent,(h=p.body).success?this.setState({isLoading:!1,isPopupOpen:!1,selectedRow:null},(function(){g.loadUsers(),Object(T.confirmAlert)({title:"User",message:h.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"User",message:h.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onRowDoubleClicked",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.gridApi.getSelectedRows(),this.setState({selectedRow:a&&a.length>0?a[0]:null},(function(){n.onAddEditUser(t)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onAddEditUser",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,n=a.selectedRow,s=a.userRoleList,n||"edit"!=t){e.next=5;break}return e.abrupt("return");case 5:"edit"==t?this.setState({isPopupOpen:!0,actionType:"Update User",id:n.id,usersFirstName:n.usersFirstName,usersLastName:n.usersLastName,email:n.email,phone:n.phone,website:n.website,salutations:{label:n.salutation,value:n.salutation},addressId:n.addressId,username:n.username,roleId:n.roleId,age:n.age,selectedUserRole:{id:n.roleId,roleName:s.find((function(e){return e.id===n.roleId})).roleName}}):this.setState({isPopupOpen:!0,id:"",selectedUserRole:null,selectedSequence:null,isDeleted:!1,actionType:"Add User",usersFirstName:"",usersLastName:"",email:"",phone:"",website:"",salutations:null,addressId:"",password:"",username:"",roleId:null,confirm_password:"",age:21});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDeleteUser",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.selectedRow,Object(T.confirmAlert)({title:"Delete RoleName",message:"Are you sure you wants to delete the record : "+t.usersFirstName+"?",buttons:[{label:"Confirm",onClick:function(){a.deleteUser()}},{label:"Cancel",onClick:function(){}}],closeOnCllickOutside:!1,closeOnEscape:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteUser",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.selectedRow,this.setState({isLoading:!0}),e.next=4,f.a.del("https://ncm-heroku.herokuapp.com/api/v1/users/id/"+t.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:a=e.sent,(n=a.body).success?this.setState({name:"",description:"",isLoading:!1,selectedRow:null},(function(){s.loadUsers(),Object(T.confirmAlert)({title:"Users",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"Users",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleImageUploadChange",value:function(e){this.setState({gameBoard:URL.createObjectURL(e.target.files[0])})}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.isPopupOpen;return this.validator.purgeFields(),s.a.createElement(j.a,{active:a,spinner:!0},s.a.createElement("div",{className:"card m-10"},s.a.createElement("section",{className:"content"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row mb-2"},s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("h4",{className:"m-0 text-dark"},this.state.actionType)),s.a.createElement("div",{className:"col-sm-6 float-sm-right"},s.a.createElement("div",{style:{display:n?"none":"block"}},s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-danger float-right",onClick:this.onDeleteUser},"Delete Record"),s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-info float-right  mx-2",onClick:this.onAddEditUser.bind(this,"edit")},"Update Record"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right ",onClick:this.onAddEditUser.bind(this,"add")},"Add New")))),s.a.createElement("div",{className:"card-body table-responsive p-0",style:{display:n?"none":"block"}},s.a.createElement("div",{style:{width:"100%",height:"550px",marginTop:"10px"}},s.a.createElement("div",{id:"RoleNameGrid",style:{height:"550px",width:"100%"},className:"ag-theme-alpine"},s.a.createElement(U.AgGridReact,{modules:this.state.modules,columnDefs:this.state.columnDefs,defaultColDef:this.state.defaultColDef,enableCellTextSelection:!0,rowSelection:this.state.rowSelection,onGridReady:this.onGridReady,rowData:this.state.rowData,pagination:!0,paginationPageSize:this.state.paginationPageSize,onSelectionChanged:this.onSelectionChanged.bind(this),onRowDoubleClicked:function(){return e.onRowDoubleClicked("edit")},rowDeselection:!0})))))))),s.a.createElement("section",{className:"content",style:{display:n?"block":"none"}},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:100},htmlFor:"Salutation"},"Salutation"),s.a.createElement(F.a,{isClearable:!0,value:this.state.salutations,onChange:this.onSalutationChange,onInputChange:this.handleInputChange,options:this.state.SalutationList}),this.validator.message("salutations",this.state.salutations,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:100},htmlFor:"UserRole"},"User Role"),s.a.createElement(Z.a,{id:"roles",value:this.state.selectedUserRole,onChange:this.onUserRoleChange,options:this.state.userRoleList,getOptionLabel:function(e){return e.roleName},getOptionValue:function(e){return e.id}}),this.validator.message("selectedUserRole",this.state.selectedUserRole,"required",{className:"text-danger small-font14"})))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:100},htmlFor:"usersFirstName"},"First Name "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"usersFirstName",value:this.state.usersFirstName,className:"form-control"}),this.validator.message("usersFirstName",this.state.usersFirstName,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:100},htmlFor:"usersLastName"},"Last Name "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"usersLastName",value:this.state.usersLastName,className:"form-control"}),this.validator.message("usersLastName",this.state.usersLastName,"required",{className:"text-danger small-font14"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:100},htmlFor:"email"},"Email Address "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"email",value:this.state.email,className:"form-control"}),this.validator.message("email",this.state.email,"required|email",{className:"text-danger"}))),s.a.createElement("div",{className:"col-md-6"},"Add User"==this.state.actionType&&s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:100},htmlFor:"password"},"Password "),s.a.createElement("input",{type:"password",onChange:this.onTextChange,id:"password",value:this.state.password,className:"form-control"}),this.validator.message("password",this.state.password,"required",{className:"text-danger small-font14"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:100},htmlFor:"phone"},"Phone "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"phone",value:this.state.phone,className:"form-control"}),this.validator.message("phone",this.state.phone,"required",{className:"text-danger small-font14"}))))),s.a.createElement("div",{style:{padding:"0 15px 15px",display:"inline-block",width:"100%"}},s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearState()}))}},"Cancel"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right  mx-1",onClick:"Update User"==this.state.actionType?this.onEditUserName:this.onCreateUser},"Submit")))))}}]),a}(n.Component),ee=Object(r.b)((function(e){return{tabSettings:e.userReducer.tabSettings}}),(function(e){return{updateTabNavigation:function(t){e(x(t))}}}))($),te=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onGridReady=function(e){n.gridApi=e.api,n.gridColumnApi=e.columnApi},n.onBtStartEditing=function(e,t,a){n.gridApi.setFocusedCell(0,"lastName",a),n.gridApi.startEditingCell({rowIndex:0,colKey:"lastName",rowPinned:a,keyPress:e,charPress:t})},n.clearState=function(){n.setState({selectedRow:null,isPopupOpen:!1,organisationId:"",isDeleted:!1}),n.validator.hideMessages()},n.onTextChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.value))},n.onCheckboxChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.checked?1:0))},n.onClickTab=function(e){n.props.updateTabNavigation({TabName:e})},n.handleChange=function(e){n.setState({selectedRoleCard:e},(function(){return console.log("Option selected:",n.state.selectedRoleCard)}))},n.handleSequenceNumber=function(e){n.setState({selectedSequence:e},(function(){return console.log("Option selected:",n.state.selectedSequence)}))},n.onEditorStateChange=function(e){n.setState({editorState:e,description:e&&_()(Object(M.convertToRaw)(e.getCurrentContent()))})},n.onSelectionChanged=function(){var e=n.gridApi.getSelectedRows();n.setState({selectedRow:e&&e.length>0?e[0]:null})},n.state={isLoading:!1,countryList:[],selectedRoleCard:null,selectedSequence:null,modules:U.AllModules,columnDefs:[{field:"id",headerName:"Country Id"},{field:"countryName",headerName:"Country Name"},{field:"countryStatus",headerName:"Country Status",valueGetter:function(e){return 0==e.data.countryStatus?"InActive":"Active"},cellStyle:function(e){return 1==e.data.countryStatus?{color:"green"}:{color:"red"}}},{field:"phoneCode",headerName:"Phone Code"},{field:"flag",headerName:"Flag"}],defaultColDef:{flex:1,minWidth:100,sortable:!0,resizable:!0,autoHeight:!0,filter:!0},getRowHeight:function(e){return 18*(Math.floor(e.data.description.length/50)+1)},rowSelection:"single",selectedRow:null,paginationPageSize:10,rowData:[],editorState:null,userRoleList:[],selectedUserRole:null,recentlyCreatedOrgUserId:"",isPopupOpen:!1,actionType:null,countryName:"",countryStatus:"",phoneCode:"",flag:""},n.onCreateCountry=n.onCreateCountry.bind(Object(K.a)(n)),n.onAddEditCountry=n.onAddEditCountry.bind(Object(K.a)(n)),n.onDeleteCountry=n.onDeleteCountry.bind(Object(K.a)(n)),n.onEditCountry=n.onEditCountry.bind(Object(K.a)(n)),n.validator=new B.a({autoForceUpdate:Object(K.a)(n)}),n.apiBase="https://ncm-heroku.herokuapp.com/api/v1//api",n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.loadContries()}},{key:"loadContries",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/countries").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({countryList:a.ResponsePacket,rowData:a.ResponsePacket,isLoading:!1},(function(){console.log(n.state.countryList)})):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"onCreateCountry",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.countryName,n=t.countryStatus,s=t.phoneCode,i=t.flag,this.setState({isLoading:!0}),e.next=7,f.a.post("https://ncm-heroku.herokuapp.com/api/v1/countries").send({countryName:a,countryStatus:n,phoneCode:s,flag:i});case 7:o=e.sent,(r=o.body).success?this.setState({countryName:"",countryStatus:0,phoneCode:"",flag:"",isLoading:!1,isPopupOpen:!1},(function(){c.loadContries(),Object(T.confirmAlert)({title:"Countries",message:r.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"Countries",message:r.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onEditCountry",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c,d,u=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.selectedRow,n=t.id,s=t.countryName,i=t.countryStatus,o=t.phoneCode,r=t.flag,this.setState({isLoading:!0}),e.next=7,f.a.patch("https://ncm-heroku.herokuapp.com/api/v1/countries/id/"+a.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token"))).send({id:n,countryName:s,countryStatus:i,phoneCode:o,flag:r});case 7:c=e.sent,(d=c.body).success?this.setState({isLoading:!1,isPopupOpen:!1,selectedRow:null},(function(){u.loadContries(),Object(T.confirmAlert)({title:"Countries",message:d.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"Countries",message:d.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onAddEditCountry",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=this.state.selectedRow)||"edit"!=t){e.next=5;break}return e.abrupt("return");case 5:"edit"==t?this.setState({isPopupOpen:!0,actionType:"Update Country",id:a.id,countryName:a.countryName,countryStatus:a.countryStatus,phoneCode:a.phoneCode,flag:a.flag}):this.setState({isPopupOpen:!0,actionType:"Add Country",id:null,countryName:"",countryStatus:"",phoneCode:"",flag:""});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDeleteCountry",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.selectedRow,Object(T.confirmAlert)({title:"Delete Country",message:"Are you sure you wants to delete the record : "+t.countryName+"?",buttons:[{label:"Confirm",onClick:function(){a.deleteCountry()}},{label:"Cancel",onClick:function(){}}],closeOnCllickOutside:!1,closeOnEscape:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteCountry",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.selectedRow,this.setState({isLoading:!0}),e.next=4,f.a.del("https://ncm-heroku.herokuapp.com/api/v1/countries/id/"+t.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:a=e.sent,(n=a.body).success?this.setState({id:null,countryName:"",countryStatus:"",phoneCode:"",flag:"",selectedRow:null},(function(){s.loadContries(),Object(T.confirmAlert)({title:"Country",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"Country",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleImageUploadChange",value:function(e){this.setState({gameBoard:URL.createObjectURL(e.target.files[0])})}},{key:"onRowDoubleClicked",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.gridApi.getSelectedRows(),this.setState({selectedRow:a&&a.length>0?a[0]:null},(function(){n.onAddEditCountry(t)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=(t.countryList,t.isLoading),n=t.isPopupOpen;return this.validator.purgeFields(),s.a.createElement(j.a,{active:a,spinner:!0},s.a.createElement("div",{className:"card m-10"},s.a.createElement("section",{className:"content"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{style:{width:"100%",display:n?"none":"block"}},s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-danger float-right",onClick:this.onDeleteCountry},"Delete Record"),s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-info float-right mx-2",onClick:this.onAddEditCountry.bind(this,"edit")},"Update Record"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right",onClick:this.onAddEditCountry.bind(this,"add")},"Add New")),s.a.createElement("div",{style:{width:"100%",display:n?"block":"none"}},s.a.createElement("strong",{className:"text-center"},this.state.actionType," "),s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearState()}))}},"Back")),s.a.createElement("div",{className:"card-body table-responsive p-0",style:{display:n?"none":"block"}},s.a.createElement("div",{style:{width:"100%",height:"550px",marginTop:"10px"}},s.a.createElement("div",{id:"RoleNameGrid",style:{height:"550px",width:"100%"},className:"ag-theme-alpine"},s.a.createElement(U.AgGridReact,{modules:this.state.modules,columnDefs:this.state.columnDefs,defaultColDef:this.state.defaultColDef,enableCellTextSelection:!0,rowSelection:this.state.rowSelection,onGridReady:this.onGridReady,rowData:this.state.rowData,pagination:!0,paginationPageSize:this.state.paginationPageSize,onSelectionChanged:this.onSelectionChanged.bind(this),rowDeselection:!0,onRowDoubleClicked:function(){return e.onRowDoubleClicked("edit")}})))))))),s.a.createElement("section",{className:"content",style:{display:n?"block":"none"}},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"countryName"},"Country Name "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"countryName",value:this.state.countryName,className:"form-control"}),this.validator.message("countryName",this.state.countryName,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"countryStatus"},"Country Status "),s.a.createElement("div",{className:"custom-control custom-switch"},s.a.createElement("input",{type:"checkbox",className:"custom-control-input",onChange:this.onCheckboxChange,id:"countryStatus",value:this.state.countryStatus,checked:1==this.state.countryStatus}),s.a.createElement("label",{className:"custom-control-label",for:"countryStatus"}))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"phoneCode"},"Phone Code "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"phoneCode",value:this.state.phoneCode,className:"form-control"}),this.validator.message("phoneCode",this.state.phoneCode,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"flag"},"Flag "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"flag",value:this.state.flag,className:"form-control"}))))),s.a.createElement("div",{style:{padding:"0 15px 15px",display:"inline-block",width:"100%"}},s.a.createElement("button",{type:"button",className:"btn btn-info float-right mx-1",onClick:"Update Country"==this.state.actionType?this.onEditCountry:this.onCreateCountry},"Submit"),s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearState()}))}},"Cancel")))))}}]),a}(n.Component),ae=Object(r.b)((function(e){return{tabSettings:e.userReducer.tabSettings,countryList:e.userReducer.playerList}}),(function(e){return{updateTabNavigation:function(t){e(x(t))}}}))(te),ne=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onGridReady=function(e){n.gridApi=e.api,n.gridColumnApi=e.columnApi},n.onBtStartEditing=function(e,t,a){n.gridApi.setFocusedCell(0,"lastName",a),n.gridApi.startEditingCell({rowIndex:0,colKey:"lastName",rowPinned:a,keyPress:e,charPress:t})},n.clearState=function(){n.setState({selectedRow:null,isPopupOpen:!1,organisationId:"",isDeleted:!1}),n.validator.hideMessages()},n.onTextChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.value))},n.onCheckboxChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.checked?1:0))},n.onClickTab=function(e){n.props.updateTabNavigation({TabName:e})},n.handleChange=function(e){n.setState({selectedRoleCard:e},(function(){return console.log("Option selected:",n.state.selectedRoleCard)}))},n.handleSequenceNumber=function(e){n.setState({selectedSequence:e},(function(){return console.log("Option selected:",n.state.selectedSequence)}))},n.onEditorStateChange=function(e){n.setState({editorState:e,description:e&&_()(Object(M.convertToRaw)(e.getCurrentContent()))})},n.onCountryChange=function(e,t){"select-option"==t.action&&n.setState({selectedCountry:e,countryId:e.id})},n.onSelectionChanged=function(){var e=n.gridApi.getSelectedRows();n.setState({selectedRow:e&&e.length>0?e[0]:null})},n.state={isLoading:!1,stateList:[],selectedRoleCard:null,selectedSequence:null,modules:U.AllModules,columnDefs:[{field:"id",headerName:"Id"},{field:"countryName",headerName:"Country"},{field:"stateName",headerName:"State Name"},{field:"stateStatus",headerName:"State Status",valueGetter:function(e){return 1==e.data.stateStatus?"Active":"InActive"},cellStyle:function(e){return 1==e.data.stateStatus?{color:"green"}:{color:"red"}}}],defaultColDef:{flex:1,minWidth:100,sortable:!0,resizable:!0,autoHeight:!0,filter:!0},getRowHeight:function(e){return 18*(Math.floor(e.data.description.length/50)+1)},rowSelection:"single",selectedRow:null,paginationPageSize:10,rowData:[],editorState:null,userRoleList:[],selectedUserRole:null,recentlyCreatedOrgUserId:"",isPopupOpen:!1,actionType:null,stateName:"",stateStatus:null,countryId:null,selectedCountry:null,countryList:[]},n.onCreateState=n.onCreateState.bind(Object(K.a)(n)),n.onAddEditState=n.onAddEditState.bind(Object(K.a)(n)),n.onDeleteState=n.onDeleteState.bind(Object(K.a)(n)),n.onEditState=n.onEditState.bind(Object(K.a)(n)),n.validator=new B.a({autoForceUpdate:Object(K.a)(n)}),n.apiBase="https://ncm-heroku.herokuapp.com/api/v1//api",n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.loadStates(),this.loadContries()}},{key:"loadStates",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/states").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({stateList:a.ResponsePacket,rowData:a.ResponsePacket,isLoading:!1},(function(){console.log(n.state.stateList)})):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadContries",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/countries").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({countryList:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"onCreateState",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.stateName,n=t.stateStatus,s=t.countryId,this.setState({isLoading:!0}),e.next=7,f.a.post("https://ncm-heroku.herokuapp.com/api/v1/states").send({stateName:a,stateStatus:n,countryId:s});case 7:i=e.sent,(o=i.body).success?this.setState({stateName:"",stateStatus:null,countryId:null,isLoading:!1,isPopupOpen:!1,selectedCountry:null},(function(){r.loadStates(),Object(T.confirmAlert)({title:"States",message:o.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"States",message:o.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onEditState",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c,d=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.selectedRow,n=t.id,s=t.stateName,i=t.stateStatus,t.countryId,o=t.selectedCountry,this.setState({isLoading:!0}),e.next=7,f.a.patch("https://ncm-heroku.herokuapp.com/api/v1/states/id/"+a.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token"))).send({id:n,stateName:s,stateStatus:i,countryId:o.id});case 7:r=e.sent,(c=r.body).success?this.setState({isLoading:!1,isPopupOpen:!1,selectedRow:null,selectedCountry:null},(function(){d.loadStates(),Object(T.confirmAlert)({title:"States",message:c.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"States",message:c.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onAddEditState",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,n=a.selectedRow,s=a.countryList,n||"edit"!=t){e.next=5;break}return e.abrupt("return");case 5:"edit"==t?this.setState({isPopupOpen:!0,actionType:"Update State",id:n.id,stateName:n.stateName,stateStatus:n.stateStatus,countryId:n.countryId,selectedCountry:{id:n.countryId,countryName:s.find((function(e){return e.id===n.countryId})).countryName}}):this.setState({isPopupOpen:!0,actionType:"Add State",id:null,stateName:"",stateStatus:null,countryId:null});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDeleteState",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.selectedRow,Object(T.confirmAlert)({title:"Delete State",message:"Are you sure you wants to delete the record : "+t.stateName+"?",buttons:[{label:"Confirm",onClick:function(){a.deleteState()}},{label:"Cancel",onClick:function(){}}],closeOnCllickOutside:!1,closeOnEscape:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteState",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.selectedRow,this.setState({isLoading:!0}),e.next=4,f.a.del("https://ncm-heroku.herokuapp.com/api/v1/states/id/"+t.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:a=e.sent,(n=a.body).success?this.setState({id:null,stateName:"",stateStatus:null,countryId:null,selectedRow:null},(function(){s.loadStates(),Object(T.confirmAlert)({title:"State",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"State",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleImageUploadChange",value:function(e){this.setState({gameBoard:URL.createObjectURL(e.target.files[0])})}},{key:"onRowDoubleClicked",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.gridApi.getSelectedRows(),this.setState({selectedRow:a&&a.length>0?a[0]:null},(function(){n.onAddEditState(t)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=(t.stateList,t.isLoading),n=t.isPopupOpen;return this.validator.purgeFields(),s.a.createElement(j.a,{active:a,spinner:!0},s.a.createElement("div",{className:"card m-10"},s.a.createElement("section",{className:"content"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{style:{width:"100%",display:n?"none":"block"}},s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-danger float-right",onClick:this.onDeleteState},"Delete Record"),s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-info float-right  mx-2",onClick:this.onAddEditState.bind(this,"edit")},"Update Record"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right ",onClick:this.onAddEditState.bind(this,"add")},"Add New")),s.a.createElement("div",{style:{width:"100%",display:n?"block":"none"}},s.a.createElement("strong",{className:"text-center"},this.state.actionType," "),s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearState()}))}},"Back")),s.a.createElement("div",{className:"card-body table-responsive p-0",style:{display:n?"none":"block"}},s.a.createElement("div",{style:{width:"100%",height:"550px",marginTop:"10px"}},s.a.createElement("div",{id:"RoleNameGrid",style:{height:"550px",width:"100%"},className:"ag-theme-alpine"},s.a.createElement(U.AgGridReact,{modules:this.state.modules,columnDefs:this.state.columnDefs,defaultColDef:this.state.defaultColDef,enableCellTextSelection:!0,rowSelection:this.state.rowSelection,onGridReady:this.onGridReady,rowData:this.state.rowData,pagination:!0,paginationPageSize:this.state.paginationPageSize,onSelectionChanged:this.onSelectionChanged.bind(this),rowDeselection:!0,onRowDoubleClicked:function(){return e.onRowDoubleClicked("edit")}})))))))),s.a.createElement("section",{className:"content",style:{display:n?"block":"none"}},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"Country"},"Country"),s.a.createElement(Z.a,{id:"country",value:this.state.selectedCountry,onChange:this.onCountryChange,options:this.state.countryList,getOptionLabel:function(e){return e.countryName},getOptionValue:function(e){return e.id}}),this.validator.message("selectedCountry",this.state.selectedCountry,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"stateStatus"},"State Status "),s.a.createElement("div",{className:"custom-control custom-switch"},s.a.createElement("input",{type:"checkbox",className:"custom-control-input",onChange:this.onCheckboxChange,id:"stateStatus",checked:1==this.state.stateStatus}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"stateStatus"}))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"stateName"},"State Name "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"stateName",value:this.state.stateName,className:"form-control"}),this.validator.message("stateName",this.state.stateName,"required",{className:"text-danger small-font14"}))))),s.a.createElement("div",{style:{padding:"0 15px 15px",display:"inline-block",width:"100%"}},s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearState()}))}},"Cancel"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right  mx-1",onClick:"Update State"==this.state.actionType?this.onEditState:this.onCreateState},"Submit")))))}}]),a}(n.Component),se=Object(r.b)((function(e){return{tabSettings:e.userReducer.tabSettings,stateList:e.userReducer.playerList}}),(function(e){return{updateTabNavigation:function(t){e(x(t))}}}))(ne),ie=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onGridReady=function(e){n.gridApi=e.api,n.gridColumnApi=e.columnApi},n.onBtStartEditing=function(e,t,a){n.gridApi.setFocusedCell(0,"lastName",a),n.gridApi.startEditingCell({rowIndex:0,colKey:"lastName",rowPinned:a,keyPress:e,charPress:t})},n.clearVendor=function(){n.setState({selectedRow:null,isPopupOpen:!1,organisationId:"",isDeleted:!1}),n.validator.hideMessages()},n.onTextChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.value))},n.onCheckboxChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.checked?1:0))},n.onClickTab=function(e){n.props.updateTabNavigation({TabName:e})},n.handleSequenceNumber=function(e){n.setState({selectedSequence:e},(function(){return console.log("Option selected:",n.state.selectedSequence)}))},n.onEditorVendorChange=function(e){n.setState({editorVendor:e,description:e&&_()(Object(M.convertToRaw)(e.getCurrentContent()))})},n.onCountryChange=function(e,t){"select-option"==t.action&&n.setState({selectedCountry:e})},n.onSelectionChanged=function(){var e=n.gridApi.getSelectedRows();n.setState({selectedRow:e&&e.length>0?e[0]:null})},n.state={isLoading:!1,vendorList:[],selectedSequence:null,modules:U.AllModules,columnDefs:[{field:"id",headerName:"Vendor Id"},{field:"vendorCode",headerName:"Vendor Code"},{field:"vendorName",headerName:"Vendor Name"},{field:"vendorStatus",headerName:"Vendor Status",valueGetter:function(e){return 0==e.data.vendorStatus?"InActive":"Active"},cellStyle:function(e){return 1==e.data.vendorStatus?{color:"green"}:{color:"red"}}},{field:"vendorWeb",headerName:"Vendor Web"},{field:"vendorDescription",headerName:"Vendor Description"}],defaultColDef:{flex:1,minWidth:100,sortable:!0,resizable:!0,autoHeight:!0,filter:!0},getRowHeight:function(e){return 18*(Math.floor(e.data.description.length/50)+1)},rowSelection:"single",selectedRow:null,paginationPageSize:10,rowData:[],editorVendor:null,userRoleList:[],selectedUserRole:null,recentlyCreatedOrgUserId:"",isPopupOpen:!1,actionType:null,vendorName:"",vendorStatus:"",countryId:null,selectedCountry:null,countryList:[]},n.onCreateVendor=n.onCreateVendor.bind(Object(K.a)(n)),n.onAddEditVendor=n.onAddEditVendor.bind(Object(K.a)(n)),n.onDeleteVendor=n.onDeleteVendor.bind(Object(K.a)(n)),n.onEditVendor=n.onEditVendor.bind(Object(K.a)(n)),n.validator=new B.a({autoForceUpdate:Object(K.a)(n)}),n.apiBase="https://ncm-heroku.herokuapp.com/api/v1//api",n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.loadVendors()}},{key:"loadVendors",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/vendors").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({vendorList:a.ResponsePacket,rowData:a.ResponsePacket,isLoading:!1},(function(){console.log(n.state.vendorList)})):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"onCreateVendor",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c,d=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.vendorCode,n=t.vendorName,s=t.vendorDescription,i=t.vendorWeb,o=t.vendorStatus,this.setState({isLoading:!0}),e.next=7,f.a.post("https://ncm-heroku.herokuapp.com/api/v1/vendors").send({vendorCode:a,vendorName:n,vendorDescription:s,vendorWeb:i,vendorStatus:o});case 7:r=e.sent,(c=r.body).success?this.setState({vendorCode:"",vendorName:"",vendorDescription:"",vendorWeb:"",vendorStatus:"",isLoading:!1,isPopupOpen:!1},(function(){d.loadVendors(),Object(T.confirmAlert)({title:"Vendors",message:c.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"Vendors",message:c.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onEditVendor",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c,d,u,m=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.selectedRow,n=t.id,s=t.vendorCode,i=t.vendorName,o=t.vendorDescription,r=t.vendorWeb,c=t.vendorStatus,this.setState({isLoading:!0}),e.next=7,f.a.patch("https://ncm-heroku.herokuapp.com/api/v1/vendors/id/"+a.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token"))).send({id:n,vendorCode:s,vendorName:i,vendorDescription:o,vendorWeb:r,vendorStatus:c});case 7:d=e.sent,(u=d.body).success?this.setState({isLoading:!1,isPopupOpen:!1,selectedRow:null},(function(){m.loadVendors(),Object(T.confirmAlert)({title:"Vendors",message:u.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"Vendors",message:u.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onAddEditVendor",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=this.state.selectedRow)||"edit"!=t){e.next=5;break}return e.abrupt("return");case 5:"edit"==t?this.setState({isPopupOpen:!0,actionType:"Update Vendor",id:a.id,vendorCode:a.vendorCode,vendorName:a.vendorName,vendorDescription:a.vendorDescription,vendorWeb:a.vendorDescription,vendorStatus:a.vendorDescription}):this.setState({isPopupOpen:!0,actionType:"Add Vendor",id:null,vendorCode:"",vendorName:"",vendorDescription:"",vendorWeb:"",vendorStatus:""});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDeleteVendor",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.selectedRow,Object(T.confirmAlert)({title:"Delete Vendor",message:"Are you sure you wants to delete the record : "+t.vendorName+"?",buttons:[{label:"Confirm",onClick:function(){a.deleteVendor()}},{label:"Cancel",onClick:function(){}}],closeOnCllickOutside:!1,closeOnEscape:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteVendor",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.selectedRow,this.setState({isLoading:!0}),e.next=4,f.a.del("https://ncm-heroku.herokuapp.com/api/v1/vendors/id/"+t.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:a=e.sent,(n=a.body).success?this.setState({id:null,vendorName:"",vendorStatus:"",countryId:null,selectedRow:null},(function(){s.loadVendors(),Object(T.confirmAlert)({title:"Vendor",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"Vendor",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleImageUploadChange",value:function(e){this.setState({gameBoard:URL.createObjectURL(e.target.files[0])})}},{key:"onRowDoubleClicked",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.gridApi.getSelectedRows(),this.setState({selectedRow:a&&a.length>0?a[0]:null},(function(){n.onAddEditVendor(t)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=(t.vendorList,t.isLoading),n=t.isPopupOpen;return this.validator.purgeFields(),s.a.createElement(j.a,{active:a,spinner:!0},s.a.createElement("div",{className:"card m-10"},s.a.createElement("section",{className:"content"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{style:{width:"100%",display:n?"none":"block"}},s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-danger float-right",onClick:this.onDeleteVendor},"Delete Record"),s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-info float-right  mx-2",onClick:this.onAddEditVendor.bind(this,"edit")},"Update Record"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right ",onClick:this.onAddEditVendor.bind(this,"add")},"Add New")),s.a.createElement("div",{style:{width:"100%",display:n?"block":"none"}},s.a.createElement("strong",{className:"text-center"},this.state.actionType," "),s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearVendor()}))}},"Back")),s.a.createElement("div",{className:"card-body table-responsive p-0",style:{display:n?"none":"block"}},s.a.createElement("div",{style:{width:"100%",height:"550px",marginTop:"10px"}},s.a.createElement("div",{id:"RoleNameGrid",style:{height:"550px",width:"100%"},className:"ag-theme-alpine"},s.a.createElement(U.AgGridReact,{modules:this.state.modules,columnDefs:this.state.columnDefs,defaultColDef:this.state.defaultColDef,enableCellTextSelection:!0,rowSelection:this.state.rowSelection,onGridReady:this.onGridReady,rowData:this.state.rowData,pagination:!0,paginationPageSize:this.state.paginationPageSize,onSelectionChanged:this.onSelectionChanged.bind(this),rowDeselection:!0,onRowDoubleClicked:function(){return e.onRowDoubleClicked("edit")}})))))))),s.a.createElement("section",{className:"content",style:{display:n?"block":"none"}},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"vendorCode"},"Vendor Code "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"vendorCode",value:this.state.vendorCode,className:"form-control"}),this.validator.message("vendorCode",this.state.vendorCode,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"vendorName"},"Vendor Name "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"vendorName",value:this.state.vendorName,className:"form-control"}),this.validator.message("vendorName",this.state.vendorName,"required",{className:"text-danger small-font14"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"vendorWeb"},"Vendor Web "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"vendorWeb",value:this.state.vendorWeb,className:"form-control"}),this.validator.message("vendorWeb",this.state.vendorWeb,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"vendorStatus"},"Vendor Status "),s.a.createElement("div",{className:"custom-control custom-switch"},s.a.createElement("input",{type:"checkbox",className:"custom-control-input",onChange:this.onCheckboxChange,id:"vendorStatus",value:this.state.vendorStatus,checked:1==this.state.vendorStatus}),s.a.createElement("label",{className:"custom-control-label",for:"vendorStatus"})))))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"vendorDescription"},"Vendor Description "),s.a.createElement("textarea",{onChange:this.onTextChange,id:"vendorDescription",value:this.state.vendorDescription,className:"form-control"}))),s.a.createElement("div",{style:{padding:"0 15px 15px",display:"inline-block",width:"100%"}},s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearVendor()}))}},"Cancel"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right  mx-1",onClick:"Update Vendor"==this.state.actionType?this.onEditVendor:this.onCreateVendor},"Submit")))))}}]),a}(n.Component),oe=Object(r.b)((function(e){return{tabSettings:e.userReducer.tabSettings,vendorList:e.userReducer.playerList}}),(function(e){return{updateTabNavigation:function(t){e(x(t))}}}))(ie),re=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onGridReady=function(e){n.gridApi=e.api,n.gridColumnApi=e.columnApi},n.onBtStartEditing=function(e,t,a){n.gridApi.setFocusedCell(0,"lastName",a),n.gridApi.startEditingCell({rowIndex:0,colKey:"lastName",rowPinned:a,keyPress:e,charPress:t})},n.clearState=function(){n.setState({selectedRow:null,isPopupOpen:!1,organisationId:"",isDeleted:!1}),n.validator.hideMessages()},n.onTextChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.value))},n.onClickTab=function(e){n.props.updateTabNavigation({TabName:e})},n.handleChange=function(e){n.setState({selectedRoleCard:e},(function(){return console.log("Option selected:",n.state.selectedRoleCard)}))},n.handleSequenceNumber=function(e){n.setState({selectedSequence:e},(function(){return console.log("Option selected:",n.state.selectedSequence)}))},n.onEditorStateChange=function(e){n.setState({editorState:e,description:e&&_()(Object(M.convertToRaw)(e.getCurrentContent()))})},n.onVendorChange=function(e,t){"select-option"==t.action&&n.setState({selectedVendor:e,vendorId:e.id})},n.onSelectionChanged=function(){var e=n.gridApi.getSelectedRows();n.setState({selectedRow:e&&e.length>0?e[0]:null})},n.onCheckboxChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.checked?1:0))},n.state={isLoading:!1,selectedRoleCard:null,selectedSequence:null,modules:U.AllModules,columnDefs:[{field:"id",headerName:"Device Id"},{field:"vendorName",headerName:"Vendor"},{field:"deviceType",headerName:"Device Type"},{field:"deviceModel",headerName:"Device Model"},{field:"deviceStatus",headerName:"Device Status",valueGetter:function(e){return 0==e.data.deviceStatus?"InActive":"Active"},cellStyle:function(e){return 1==e.data.deviceStatus?{color:"green"}:{color:"red"}}},{field:"deviceDescription",headerName:"Device Description"}],defaultColDef:{flex:1,minWidth:100,sortable:!0,resizable:!0,autoHeight:!0,filter:!0},rowSelection:"single",selectedRow:null,paginationPageSize:10,rowData:[],editorState:null,isPopupOpen:!1,actionType:null,deviceType:"",vendorId:null,deviceDescription:"",deviceModel:"",deviceStatus:"",selectedVendor:null,vendorList:[]},n.onCreateDevice=n.onCreateDevice.bind(Object(K.a)(n)),n.onAddEditDevice=n.onAddEditDevice.bind(Object(K.a)(n)),n.onDeleteDevice=n.onDeleteDevice.bind(Object(K.a)(n)),n.onEditDevice=n.onEditDevice.bind(Object(K.a)(n)),n.validator=new B.a({autoForceUpdate:Object(K.a)(n)}),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.loadDevices(),this.loadVendors()}},{key:"loadDevices",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/devices").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({rowData:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadVendors",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/vendors").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({vendorList:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"onCreateDevice",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c,d=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.deviceType,t.vendorId,n=t.deviceDescription,s=t.deviceModel,i=t.deviceStatus,o=t.selectedVendor,this.setState({isLoading:!0}),e.next=7,f.a.post("https://ncm-heroku.herokuapp.com/api/v1/devices").send({deviceType:a,deviceDescription:n,deviceModel:s,deviceStatus:i,vendorId:o.value});case 7:r=e.sent,(c=r.body).success?this.setState({deviceType:"",deviceDescription:"",deviceModel:"",deviceStatus:"",vendorId:null,isLoading:!1,isPopupOpen:!1},(function(){d.loadDevices(),Object(T.confirmAlert)({title:"Devices",message:c.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"Devices",message:c.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onEditDevice",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c,d,u,m=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.selectedRow,n=t.id,s=t.deviceType,i=t.deviceDescription,o=t.deviceModel,r=t.deviceStatus,t.vendorId,c=t.selectedVendor,this.setState({isLoading:!0}),e.next=7,f.a.patch("https://ncm-heroku.herokuapp.com/api/v1/devices/id/"+a.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token"))).send({id:n,deviceType:s,deviceDescription:i,deviceModel:o,deviceStatus:r,vendorId:c.value});case 7:d=e.sent,(u=d.body).success?this.setState({isLoading:!1,isPopupOpen:!1,selectedRow:null},(function(){m.loadDevices(),Object(T.confirmAlert)({title:"Devices",message:u.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"Devices",message:u.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onAddEditDevice",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,n=a.selectedRow,s=a.vendorList,n||"edit"!=t){e.next=5;break}return e.abrupt("return");case 5:"edit"==t?this.setState({isPopupOpen:!0,actionType:"Update Device",id:n.id,deviceType:n.deviceType,deviceDescription:n.deviceDescription,deviceModel:n.deviceModel,deviceStatus:n.deviceStatus,vendorId:n.vendorId,selectedVendor:{id:n.vendorId,vendorName:s.find((function(e){return e.id===n.vendorId})).vendorName}}):this.setState({isPopupOpen:!0,actionType:"Add Device",id:null,deviceType:"",deviceDescription:"",deviceModel:"",deviceStatus:"",vendorId:null});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDeleteDevice",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.selectedRow,Object(T.confirmAlert)({title:"Delete Device",message:"Are you sure you wants to delete the record : "+t.deviceType+"?",buttons:[{label:"Confirm",onClick:function(){a.deleteDevice()}},{label:"Cancel",onClick:function(){}}],closeOnCllickOutside:!1,closeOnEscape:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteDevice",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.selectedRow,this.setState({isLoading:!0}),e.next=4,f.a.del("https://ncm-heroku.herokuapp.com/api/v1/devices/id/"+t.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:a=e.sent,(n=a.body).success?this.setState({id:null,deviceType:"",deviceDescription:"",deviceModel:"",deviceStatus:"",vendorId:null,selectedRow:null},(function(){s.loadDevices(),Object(T.confirmAlert)({title:"State",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"State",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleImageUploadChange",value:function(e){this.setState({gameBoard:URL.createObjectURL(e.target.files[0])})}},{key:"onRowDoubleClicked",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.gridApi.getSelectedRows(),this.setState({selectedRow:a&&a.length>0?a[0]:null},(function(){n.onAddEditDevice(t)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.vendorList,n=t.isLoading,i=t.isPopupOpen;return this.validator.purgeFields(),s.a.createElement(j.a,{active:n,spinner:!0},s.a.createElement("div",{className:"card m-10"},s.a.createElement("section",{className:"content"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{style:{width:"100%",display:i?"none":"block"}},s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-danger float-right",onClick:this.onDeleteDevice},"Delete Record"),s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-info float-right  mx-2",onClick:this.onAddEditDevice.bind(this,"edit")},"Update Record"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right ",onClick:this.onAddEditDevice.bind(this,"add")},"Add New")),s.a.createElement("div",{style:{width:"100%",display:i?"block":"none"}},s.a.createElement("strong",{className:"text-center"},this.state.actionType," "),s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearState()}))}},"Back")),s.a.createElement("div",{className:"card-body table-responsive p-0",style:{display:i?"none":"block"}},s.a.createElement("div",{style:{width:"100%",height:"550px",marginTop:"10px"}},s.a.createElement("div",{id:"RoleNameGrid",style:{height:"550px",width:"100%"},className:"ag-theme-alpine"},s.a.createElement(U.AgGridReact,{modules:this.state.modules,columnDefs:this.state.columnDefs,defaultColDef:this.state.defaultColDef,enableCellTextSelection:!0,rowSelection:this.state.rowSelection,onGridReady:this.onGridReady,rowData:this.state.rowData,pagination:!0,paginationPageSize:this.state.paginationPageSize,onSelectionChanged:this.onSelectionChanged.bind(this),rowDeselection:!0,onRowDoubleClicked:function(){return e.onRowDoubleClicked("edit")}})))))))),s.a.createElement("section",{className:"content",style:{display:i?"block":"none"}},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"Vendor"},"Vendor"),s.a.createElement(Z.a,{id:"country",value:this.state.selectedVendor,onChange:this.onVendorChange,options:a,getOptionLabel:function(e){return e.vendorName},getOptionValue:function(e){return e.id}}),this.validator.message("selectedVendor",this.state.selectedVendor,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"deviceType"},"Device Type "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"deviceType",value:this.state.deviceType,className:"form-control"}),this.validator.message("deviceType",this.state.deviceType,"required",{className:"text-danger small-font14"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"deviceModel"},"Device Model "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"deviceModel",value:this.state.deviceModel,className:"form-control"}),this.validator.message("deviceModel",this.state.deviceModel,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"deviceStatus"},"Device Status "),s.a.createElement("div",{className:"custom-control custom-switch"},s.a.createElement("input",{type:"checkbox",className:"custom-control-input",onChange:this.onCheckboxChange,id:"deviceStatus",value:this.state.deviceStatus,checked:1==this.state.deviceStatus}),s.a.createElement("label",{className:"custom-control-label",for:"deviceStatus"})))))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"deviceDescription"},"Device Description "),s.a.createElement("textarea",{onChange:this.onTextChange,id:"deviceDescription",value:this.state.deviceDescription,className:"form-control"}))),s.a.createElement("div",{style:{padding:"0 15px 15px",display:"inline-block",width:"100%"}},s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearState()}))}},"Cancel"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right  mx-1",onClick:"Update Device"==this.state.actionType?this.onEditDevice:this.onCreateDevice},"Submit")))))}}]),a}(n.Component),ce=Object(r.b)((function(e){return{tabSettings:e.userReducer.tabSettings}}),(function(e){return{updateTabNavigation:function(t){e(x(t))}}}))(re),le=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onGridReady=function(e){n.gridApi=e.api,n.gridColumnApi=e.columnApi},n.onBtStartEditing=function(e,t,a){n.gridApi.setFocusedCell(0,"lastName",a),n.gridApi.startEditingCell({rowIndex:0,colKey:"lastName",rowPinned:a,keyPress:e,charPress:t})},n.clearRole=function(){n.setState({selectedRow:null,isPopupOpen:!1,organisationId:"",isDeleted:!1}),n.validator.hideMessages()},n.onTextChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.value))},n.onClickTab=function(e){var t=n.state.selectedRow;t&&n.props.updateTabNavigation({TabName:e,roleId:t.id,roleName:t.roleName})},n.handleSequenceNumber=function(e){n.setState({selectedSequence:e},(function(){return console.log("Option selected:",n.state.selectedSequence)}))},n.onEditorRoleChange=function(e){n.setState({editorRole:e,description:e&&_()(Object(M.convertToRaw)(e.getCurrentContent()))})},n.onCountryChange=function(e,t){"select-option"==t.action&&n.setState({selectedCountry:e})},n.onSelectionChanged=function(){var e=n.gridApi.getSelectedRows();n.setState({selectedRow:e&&e.length>0?e[0]:null})},n.state={isLoading:!1,selectedSequence:null,modules:U.AllModules,columnDefs:[{field:"id",headerName:"Role Id"},{field:"roleName",headerName:"Role Name"},{field:"roleDescription",headerName:"Role Description"}],defaultColDef:{flex:1,minWidth:100,sortable:!0,resizable:!0,autoHeight:!0,filter:!0},getRowHeight:function(e){return 18*(Math.floor(e.data.description.length/50)+1)},rowSelection:"single",selectedRow:null,paginationPageSize:10,rowData:[],editorRole:null,userRoleList:[],selectedUserRole:null,recentlyCreatedOrgUserId:"",isPopupOpen:!1,actionType:null,roleName:"",roleStatus:"",roleOrgId:1,countryId:null,selectedCountry:null,countryList:[]},n.onCreateRole=n.onCreateRole.bind(Object(K.a)(n)),n.onAddEditRole=n.onAddEditRole.bind(Object(K.a)(n)),n.onDeleteRole=n.onDeleteRole.bind(Object(K.a)(n)),n.onEditRole=n.onEditRole.bind(Object(K.a)(n)),n.validator=new B.a({autoForceUpdate:Object(K.a)(n)}),n.apiBase="https://ncm-heroku.herokuapp.com/api/v1//api",n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.loadRoles()}},{key:"loadRoles",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/roles").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({rowData:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"onCreateRole",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.roleName,n=t.roleDescription,s=t.roleOrgId,this.setState({isLoading:!0}),e.next=7,f.a.post("https://ncm-heroku.herokuapp.com/api/v1/roles").send({roleName:a,roleDescription:n,roleOrgId:s});case 7:i=e.sent,(o=i.body).success?this.setState({roleName:"",roleDescription:"",isLoading:!1,isPopupOpen:!1},(function(){r.loadRoles(),Object(T.confirmAlert)({title:"Roles",message:o.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"Roles",message:o.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onEditRole",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c,d=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.selectedRow,n=t.id,s=t.roleName,i=t.roleOrgId,o=t.roleDescription,this.setState({isLoading:!0}),e.next=7,f.a.patch("https://ncm-heroku.herokuapp.com/api/v1/roles/id/"+a.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token"))).send({id:n,roleName:s,roleDescription:o,roleOrgId:i});case 7:r=e.sent,(c=r.body).success?this.setState({isLoading:!1,isPopupOpen:!1,selectedRow:null},(function(){d.loadRoles(),Object(T.confirmAlert)({title:"Roles",message:c.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"Roles",message:c.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onAddEditRole",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=this.state.selectedRow)||"edit"!=t){e.next=5;break}return e.abrupt("return");case 5:"edit"==t?this.setState({isPopupOpen:!0,actionType:"Update Role",id:a.id,roleName:a.roleName,roleDescription:a.roleDescription,roleOrgId:a.roleOrgId}):this.setState({isPopupOpen:!0,actionType:"Add Role",id:null,roleName:"",roleDescription:""});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDeleteRole",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.selectedRow,Object(T.confirmAlert)({title:"Delete Role",message:"Are you sure you wants to delete the record : "+t.roleName+"?",buttons:[{label:"Confirm",onClick:function(){a.deleteRole()}},{label:"Cancel",onClick:function(){}}],closeOnCllickOutside:!1,closeOnEscape:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRole",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.selectedRow,this.setState({isLoading:!0}),e.next=4,f.a.del("https://ncm-heroku.herokuapp.com/api/v1/roles/id/"+t.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:a=e.sent,(n=a.body).success?this.setState({id:null,roleName:"",roleDescription:"",selectedRow:null},(function(){s.loadRoles(),Object(T.confirmAlert)({title:"Role",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"Role",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleImageUploadChange",value:function(e){this.setState({gameBoard:URL.createObjectURL(e.target.files[0])})}},{key:"onRowDoubleClicked",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.gridApi.getSelectedRows(),this.setState({selectedRow:a&&a.length>0?a[0]:null},(function(){n.onAddEditRole(t)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.isPopupOpen;return this.validator.purgeFields(),s.a.createElement(j.a,{active:a,spinner:!0},s.a.createElement("div",{className:"card m-10"},s.a.createElement("section",{className:"content"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{style:{width:"100%",display:n?"none":"block"}},s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-danger float-right  mx-2",onClick:this.onDeleteRole},"Delete Record"),s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-info float-right",onClick:this.onClickTab.bind(this,"RoleDetails")},"Update Permissions"),s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-info float-right  mx-2",onClick:this.onAddEditRole.bind(this,"edit")},"Update Record"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right ",onClick:this.onAddEditRole.bind(this,"add")},"Add New")),s.a.createElement("div",{style:{width:"100%",display:n?"block":"none"}},s.a.createElement("strong",{className:"text-center"},this.state.actionType," "),s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearRole()}))}},"Back")),s.a.createElement("div",{className:"card-body table-responsive p-0",style:{display:n?"none":"block"}},s.a.createElement("div",{style:{width:"100%",height:"550px",marginTop:"10px"}},s.a.createElement("div",{id:"RoleNameGrid",style:{height:"550px",width:"100%"},className:"ag-theme-alpine"},s.a.createElement(U.AgGridReact,{modules:this.state.modules,columnDefs:this.state.columnDefs,defaultColDef:this.state.defaultColDef,enableCellTextSelection:!0,rowSelection:this.state.rowSelection,onGridReady:this.onGridReady,rowData:this.state.rowData,pagination:!0,paginationPageSize:this.state.paginationPageSize,onSelectionChanged:this.onSelectionChanged.bind(this),rowDeselection:!0,onRowDoubleClicked:function(){return e.onRowDoubleClicked("edit")}})))))))),s.a.createElement("section",{className:"content",style:{display:n?"block":"none"}},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"roleName"},"Role Name "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"roleName",value:this.state.roleName,className:"form-control"}),this.validator.message("roleName",this.state.roleName,"required",{className:"text-danger small-font14"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"roleDescription"},"Role Description "),s.a.createElement("textarea",{onChange:this.onTextChange,id:"roleDescription",value:this.state.roleDescription,className:"form-control"}))))),s.a.createElement("div",{style:{padding:"0 15px 15px",display:"inline-block",width:"100%"}},s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearRole()}))}},"Cancel"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right  mx-1",onClick:"Update Role"==this.state.actionType?this.onEditRole:this.onCreateRole},"Submit")))))}}]),a}(n.Component),de=Object(r.b)((function(e){return{tabSettings:e.userReducer.tabSettings,roleList:e.userReducer.playerList}}),(function(e){return{updateTabNavigation:function(t){e(x(t))}}}))(le),ue=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onGridReady=function(e){n.gridApi=e.api,n.gridColumnApi=e.columnApi},n.onBtStartEditing=function(e,t,a){n.gridApi.setFocusedCell(0,"lastName",a),n.gridApi.startEditingCell({rowIndex:0,colKey:"lastName",rowPinned:a,keyPress:e,charPress:t})},n.clearEntity=function(){n.setState({selectedRow:null,isPopupOpen:!1,organisationId:"",isDeleted:!1}),n.validator.hideMessages()},n.onTextChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.value))},n.onClickTab=function(e){n.props.updateTabNavigation({TabName:e})},n.handleSequenceNumber=function(e){n.setState({selectedSequence:e},(function(){return console.log("Option selected:",n.state.selectedSequence)}))},n.onEditorEntityChange=function(e){n.setState({editorEntity:e,description:e&&_()(Object(M.convertToRaw)(e.getCurrentContent()))})},n.onCountryChange=function(e,t){"select-option"==t.action&&n.setState({selectedCountry:e})},n.onSelectionChanged=function(){var e=n.gridApi.getSelectedRows();n.setState({selectedRow:e&&e.length>0?e[0]:null})},n.state={isLoading:!1,entityList:[],selectedSequence:null,modules:U.AllModules,columnDefs:[{field:"id",headerName:"Entity Id"},{field:"entityName",headerName:"Entity Name"},{field:"entityDescription",headerName:"Entity Description"}],defaultColDef:{flex:1,minWidth:100,sortable:!0,resizable:!0,autoHeight:!0,filter:!0},getRowHeight:function(e){return 18*(Math.floor(e.data.description.length/50)+1)},rowSelection:"single",selectedRow:null,paginationPageSize:10,rowData:[],editorEntity:null,userEntityList:[],selectedUserEntity:null,recentlyCreatedOrgUserId:"",isPopupOpen:!1,actionType:null,entityName:"",entityStatus:"",countryId:null,selectedCountry:null,countryList:[]},n.onCreateEntity=n.onCreateEntity.bind(Object(K.a)(n)),n.onAddEditEntity=n.onAddEditEntity.bind(Object(K.a)(n)),n.onDeleteEntity=n.onDeleteEntity.bind(Object(K.a)(n)),n.onEditEntity=n.onEditEntity.bind(Object(K.a)(n)),n.validator=new B.a({autoForceUpdate:Object(K.a)(n)}),n.apiBase="https://ncm-heroku.herokuapp.com/api/v1//api",n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.loadRoleEntity()}},{key:"loadRoleEntity",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/roleentities").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({entityList:a.ResponsePacket,rowData:a.ResponsePacket,isLoading:!1},(function(){console.log(n.state.entityList)})):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"onCreateEntity",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.entityName,n=t.entityDescription,this.setState({isLoading:!0}),e.next=7,f.a.post("https://ncm-heroku.herokuapp.com/api/v1/roleentities").send({entityName:a,entityDescription:n});case 7:s=e.sent,(i=s.body).success?this.setState({entityName:"",entityDescription:"",isLoading:!1,isPopupOpen:!1},(function(){o.loadRoleEntity(),Object(T.confirmAlert)({title:"Entity",message:i.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"Entity",message:i.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onEditEntity",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.selectedRow,n=t.id,s=t.entityName,i=t.entityDescription,this.setState({isLoading:!0}),e.next=7,f.a.patch("https://ncm-heroku.herokuapp.com/api/v1/roleentities/id/"+a.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token"))).send({id:n,entityName:s,entityDescription:i});case 7:o=e.sent,(r=o.body).success?this.setState({isLoading:!1,isPopupOpen:!1,selectedRow:null},(function(){c.loadRoleEntity(),Object(T.confirmAlert)({title:"Entity",message:r.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"Entity",message:r.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onAddEditEntity",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=this.state.selectedRow)||"edit"!=t){e.next=5;break}return e.abrupt("return");case 5:"edit"==t?this.setState({isPopupOpen:!0,actionType:"Update Entity",id:a.id,entityName:a.entityName,entityDescription:a.entityDescription}):this.setState({isPopupOpen:!0,actionType:"Add Entity",id:null,entityName:"",entityDescription:""});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDeleteEntity",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.selectedRow,Object(T.confirmAlert)({title:"Delete Entity",message:"Are you sure you wants to delete the record : "+t.entityName+"?",buttons:[{label:"Confirm",onClick:function(){a.deleteEntity()}},{label:"Cancel",onClick:function(){}}],closeOnCllickOutside:!1,closeOnEscape:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteEntity",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.selectedRow,this.setState({isLoading:!0}),e.next=4,f.a.del("https://ncm-heroku.herokuapp.com/api/v1/roleentities/id/"+t.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:a=e.sent,(n=a.body).success?this.setState({id:null,entityName:"",entityDescription:"",selectedRow:null},(function(){s.loadRoleEntity(),Object(T.confirmAlert)({title:"Entity",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"Entity",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleImageUploadChange",value:function(e){this.setState({gameBoard:URL.createObjectURL(e.target.files[0])})}},{key:"onRowDoubleClicked",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.gridApi.getSelectedRows(),this.setState({selectedRow:a&&a.length>0?a[0]:null},(function(){n.onAddEditEntity(t)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=(t.entityList,t.isLoading),n=t.isPopupOpen;return this.validator.purgeFields(),s.a.createElement(j.a,{active:a,spinner:!0},s.a.createElement("div",{className:"card m-10"},s.a.createElement("section",{className:"content"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{style:{width:"100%",display:n?"none":"block"}},s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-danger float-right",onClick:this.onDeleteEntity},"Delete Record"),s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-info float-right  mx-2",onClick:this.onAddEditEntity.bind(this,"edit")},"Update Record"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right ",onClick:this.onAddEditEntity.bind(this,"add")},"Add New")),s.a.createElement("div",{style:{width:"100%",display:n?"block":"none"}},s.a.createElement("strong",{className:"text-center"},this.state.actionType," "),s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearEntity()}))}},"Back")),s.a.createElement("div",{className:"card-body table-responsive p-0",style:{display:n?"none":"block"}},s.a.createElement("div",{style:{width:"100%",height:"550px",marginTop:"10px"}},s.a.createElement("div",{id:"EntityNameGrid",style:{height:"550px",width:"100%"},className:"ag-theme-alpine"},s.a.createElement(U.AgGridReact,{modules:this.state.modules,columnDefs:this.state.columnDefs,defaultColDef:this.state.defaultColDef,enableCellTextSelection:!0,rowSelection:this.state.rowSelection,onGridReady:this.onGridReady,rowData:this.state.rowData,pagination:!0,paginationPageSize:this.state.paginationPageSize,onSelectionChanged:this.onSelectionChanged.bind(this),rowDeselection:!0,onRowDoubleClicked:function(){return e.onRowDoubleClicked("edit")}})))))))),s.a.createElement("section",{className:"content",style:{display:n?"block":"none"}},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"entityName"},"Entity Name "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"entityName",value:this.state.entityName,className:"form-control"}),this.validator.message("entityName",this.state.entityName,"required",{className:"text-danger small-font14"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"entityDescription"},"Entity Description "),s.a.createElement("textarea",{onChange:this.onTextChange,id:"entityDescription",value:this.state.entityDescription,className:"form-control"}))))),s.a.createElement("div",{style:{padding:"0 15px 15px",display:"inline-block",width:"100%"}},s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearEntity()}))}},"Cancel"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right  mx-1",onClick:"Update Entity"==this.state.actionType?this.onEditEntity:this.onCreateEntity},"Submit")))))}}]),a}(n.Component),me=Object(r.b)((function(e){return{tabSettings:e.userReducer.tabSettings,entityList:e.userReducer.playerList}}),(function(e){return{updateTabNavigation:function(t){e(x(t))}}}))(ue),pe=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onGridReady=function(e){n.gridApi=e.api,n.gridColumnApi=e.columnApi},n.onBtStartEditing=function(e,t,a){n.gridApi.setFocusedCell(0,"lastName",a),n.gridApi.startEditingCell({rowIndex:0,colKey:"lastName",rowPinned:a,keyPress:e,charPress:t})},n.clearOrganization=function(){n.setState({selectedRow:null,isPopupOpen:!1,isDeleted:!1}),n.validator.hideMessages()},n.onTextChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.value))},n.onClickTab=function(e){n.props.updateTabNavigation({TabName:e})},n.handleSequenceNumber=function(e){n.setState({selectedSequence:e},(function(){return console.log("Option selected:",n.state.selectedSequence)}))},n.onEditorOrganizationChange=function(e){n.setState({editorOrganization:e,description:e&&_()(Object(M.convertToRaw)(e.getCurrentContent()))})},n.onCountryChange=function(e,t){"select-option"==t.action&&n.setState({selectedCountry:e})},n.onSelectionChanged=function(){var e=n.gridApi.getSelectedRows();n.setState({selectedRow:e&&e.length>0?e[0]:null})},n.onCheckboxChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.checked?1:0))},n.state={isLoading:!1,roleList:[],selectedSequence:null,modules:U.AllModules,columnDefs:[{field:"id",headerName:"Organization Id"},{field:"orgName",headerName:"Name"},{field:"orgCode",headerName:"Organization Code"},{field:"orgEmail",headerName:"Email"},{field:"orgStatus",headerName:"Status",valueGetter:function(e){return 0==e.data.orgStatus?"InActive":"Active"},cellStyle:function(e){return 1==e.data.orgStatus?{color:"green"}:{color:"red"}}},{field:"orgType",headerName:"Organization Type"},{field:"entityExport",headerName:"Entity Export"},{field:"orgDescription",headerName:"Description"}],defaultColDef:{flex:1,minWidth:100,sortable:!0,resizable:!0,autoHeight:!0,filter:!0},getRowHeight:function(e){return 18*(Math.floor(e.data.description.length/50)+1)},rowSelection:"single",selectedRow:null,paginationPageSize:10,rowData:[],editorOrganization:null,userOrganizationList:[],selectedUserOrganization:null,recentlyCreatedOrgUserId:"",isPopupOpen:!1,actionType:null,orgName:"",orgCode:"",orgDescription:"",orgStatus:null,orgType:"",entityExport:"",orgEmail:""},n.onCreateOrganization=n.onCreateOrganization.bind(Object(K.a)(n)),n.onAddEditOrganization=n.onAddEditOrganization.bind(Object(K.a)(n)),n.onDeleteOrganization=n.onDeleteOrganization.bind(Object(K.a)(n)),n.onEditOrganization=n.onEditOrganization.bind(Object(K.a)(n)),n.validator=new B.a({autoForceUpdate:Object(K.a)(n)}),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.loadOrganizations()}},{key:"loadOrganizations",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/organizations").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({rowData:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"onCreateOrganization",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c,d,u,m=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.orgName,n=t.orgCode,s=t.orgDescription,i=t.orgStatus,o=t.orgType,r=t.entityExport,c=t.orgEmail,this.setState({isLoading:!0}),e.next=7,f.a.post("https://ncm-heroku.herokuapp.com/api/v1/organizations").send({orgName:a,orgCode:n,orgDescription:s,orgStatus:i,orgType:o,entityExport:r,orgEmail:c});case 7:d=e.sent,(u=d.body).success?this.setState({orgName:"",orgCode:"",orgDescription:"",orgStatus:null,orgType:"",entityExport:"",orgEmail:"",isLoading:!1,isPopupOpen:!1},(function(){m.loadOrganizations(),Object(T.confirmAlert)({title:"Organizations",message:u.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"Organizations",message:u.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onEditOrganization",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c,d,u,m,p,h=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.selectedRow,n=t.id,s=t.orgName,i=t.orgCode,o=t.orgDescription,r=t.orgStatus,c=t.orgType,d=t.entityExport,u=t.orgEmail,this.setState({isLoading:!0}),e.next=7,f.a.patch("https://ncm-heroku.herokuapp.com/api/v1/organizations/id/"+a.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token"))).send({id:n,orgName:s,orgCode:i,orgDescription:o,orgStatus:r,orgType:c,entityExport:d,orgEmail:u});case 7:m=e.sent,(p=m.body).success?this.setState({isLoading:!1,isPopupOpen:!1,selectedRow:null},(function(){h.loadOrganizations(),Object(T.confirmAlert)({title:"Organizations",message:p.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"Organizations",message:p.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onAddEditOrganization",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=this.state.selectedRow)||"edit"!=t){e.next=5;break}return e.abrupt("return");case 5:"edit"==t?this.setState({isPopupOpen:!0,actionType:"Update Organization",id:a.id,orgName:a.orgName,orgCode:a.orgCode,orgDescription:a.orgDescription,orgStatus:a.orgStatus,orgType:a.orgType,entityExport:a.entityExport,orgEmai:a.orgEmail}):this.setState({isPopupOpen:!0,actionType:"Add Organization",id:null,orgName:"",orgCode:"",orgDescription:"",orgStatus:null,orgType:"",entityExport:"",orgEmail:""});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDeleteOrganization",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.selectedRow,Object(T.confirmAlert)({title:"Delete Organization",message:"Are you sure you wants to delete the record : "+t.orgName+"?",buttons:[{label:"Confirm",onClick:function(){a.deleteOrganization()}},{label:"Cancel",onClick:function(){}}],closeOnCllickOutside:!1,closeOnEscape:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteOrganization",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.selectedRow,this.setState({isLoading:!0}),e.next=4,f.a.del("https://ncm-heroku.herokuapp.com/api/v1/organizations/id/"+t.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:a=e.sent,(n=a.body).success?this.setState({id:null,orgName:"",orgCode:"",orgDescription:"",orgStatus:null,orgType:"",entityExport:"",orgEmail:"",selectedRow:null},(function(){s.loadOrganizations(),Object(T.confirmAlert)({title:"Organization",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"Organization",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleImageUploadChange",value:function(e){this.setState({gameBoard:URL.createObjectURL(e.target.files[0])})}},{key:"onRowDoubleClicked",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.gridApi.getSelectedRows(),this.setState({selectedRow:a&&a.length>0?a[0]:null},(function(){n.onAddEditOrganization(t)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=(t.roleList,t.isLoading),n=t.isPopupOpen;return this.validator.purgeFields(),s.a.createElement(j.a,{active:a,spinner:!0},s.a.createElement("div",{className:"card m-10"},s.a.createElement("section",{className:"content"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{style:{width:"100%",display:n?"none":"block"}},s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-danger float-right",onClick:this.onDeleteOrganization},"Delete Record"),s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-info float-right  mx-2",onClick:this.onAddEditOrganization.bind(this,"edit")},"Update Record"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right ",onClick:this.onAddEditOrganization.bind(this,"add")},"Add New")),s.a.createElement("div",{style:{width:"100%",display:n?"block":"none"}},s.a.createElement("strong",{className:"text-center"},this.state.actionType," "),s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearOrganization()}))}},"Back")),s.a.createElement("div",{className:"card-body table-responsive p-0",style:{display:n?"none":"block"}},s.a.createElement("div",{style:{width:"100%",height:"550px",marginTop:"10px"}},s.a.createElement("div",{id:"OrganizationNameGrid",style:{height:"550px",width:"100%"},className:"ag-theme-alpine"},s.a.createElement(U.AgGridReact,{modules:this.state.modules,columnDefs:this.state.columnDefs,defaultColDef:this.state.defaultColDef,enableCellTextSelection:!0,rowSelection:this.state.rowSelection,onGridReady:this.onGridReady,rowData:this.state.rowData,pagination:!0,paginationPageSize:this.state.paginationPageSize,onSelectionChanged:this.onSelectionChanged.bind(this),rowDeselection:!0,onRowDoubleClicked:function(){return e.onRowDoubleClicked("edit")}})))))))),s.a.createElement("section",{className:"content",style:{display:n?"block":"none"}},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"orgName"},"Organization Name "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"orgName",value:this.state.orgName,className:"form-control"}),this.validator.message("typeDefault",this.state.typeDefault,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"orgStatus"},"Organization Status "),s.a.createElement("div",{className:"custom-control custom-switch"},s.a.createElement("input",{type:"checkbox",className:"custom-control-input",onChange:this.onCheckboxChange,id:"orgStatus",value:this.state.orgStatus,checked:1==this.state.orgStatus}),s.a.createElement("label",{className:"custom-control-label",for:"orgStatus"}))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"orgCode"},"Organization Code "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"orgCode",value:this.state.orgCode,className:"form-control"}),this.validator.message("orgCode",this.state.orgCode,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"orgType"},"Organization Type "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"orgType",value:this.state.orgType,className:"form-control"}),this.validator.message("orgType",this.state.orgType,"required",{className:"text-danger small-font14"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"entityExport"},"Entity Export "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"entityExport",value:this.state.entityExport,className:"form-control"}),this.validator.message("entityExport",this.state.entityExport,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"orgEmail"},"Organization Email "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"orgEmail",value:this.state.orgEmail,className:"form-control"}),this.validator.message("orgEmail",this.state.orgEmail,"required",{className:"text-danger small-font14"})))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"orgDescription"},"Organization Description "),s.a.createElement("textarea",{onChange:this.onTextChange,id:"orgDescription",value:this.state.orgDescription,className:"form-control"}))),s.a.createElement("div",{style:{padding:"0 15px 15px",display:"inline-block",width:"100%"}},s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearOrganization()}))}},"Cancel"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right  mx-1",onClick:"Update Organization"==this.state.actionType?this.onEditOrganization:this.onCreateOrganization},"Submit")))))}}]),a}(n.Component),he=Object(r.b)((function(e){return{tabSettings:e.userReducer.tabSettings,roleList:e.userReducer.playerList}}),(function(e){return{updateTabNavigation:function(t){e(x(t))}}}))(pe),ge=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onGridReady=function(e){n.gridApi=e.api,n.gridColumnApi=e.columnApi},n.onBtStartEditing=function(e,t,a){n.gridApi.setFocusedCell(0,"lastName",a),n.gridApi.startEditingCell({rowIndex:0,colKey:"lastName",rowPinned:a,keyPress:e,charPress:t})},n.clearCategoriesType=function(){n.setState({selectedRow:null,isPopupOpen:!1,organisationId:"",isDeleted:!1}),n.validator.hideMessages()},n.onTextChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.value))},n.onClickTab=function(e){n.props.updateTabNavigation({TabName:e})},n.handleSequenceNumber=function(e){n.setState({selectedSequence:e},(function(){return console.log("Option selected:",n.state.selectedSequence)}))},n.onEditorCategoriesTypeChange=function(e){n.setState({editorCategoriesType:e,description:e&&_()(Object(M.convertToRaw)(e.getCurrentContent()))})},n.onCountryChange=function(e,t){"select-option"==t.action&&n.setState({selectedCountry:e})},n.onSelectionChanged=function(){var e=n.gridApi.getSelectedRows();n.setState({selectedRow:e&&e.length>0?e[0]:null})},n.state={isLoading:!1,selectedSequence:null,modules:U.AllModules,columnDefs:[{field:"id",headerName:"Type Id"},{field:"typeValue",headerName:"Type Value"},{field:"typeDescription",headerName:"Description"},{field:"typeStatus",headerName:"CategoriesType Status",valueGetter:function(e){return 0==e.data.typeStatus?"InActive":"Active"},cellStyle:function(e){return 1==e.data.typeStatus?{color:"green"}:{color:"red"}}},{field:"typeOrder",headerName:"Type Order"}],defaultColDef:{flex:1,minWidth:100,sortable:!0,resizable:!0,autoHeight:!0,filter:!0},getRowHeight:function(e){return 18*(Math.floor(e.data.description.length/50)+1)},rowSelection:"single",selectedRow:null,paginationPageSize:10,rowData:[],editorCategoriesType:null,userRoleList:[],selectedUserRole:null,recentlyCreatedOrgUserId:"",isPopupOpen:!1,actionType:null,typeName:"",typeValue:"",typeDescription:"",typeOrder:"",typeDefault:"",typeStatus:"",countryId:null,selectedCountry:null,countryList:[]},n.onCreateCategoriesType=n.onCreateCategoriesType.bind(Object(K.a)(n)),n.onAddEditCategoriesType=n.onAddEditCategoriesType.bind(Object(K.a)(n)),n.onDeleteCategoriesType=n.onDeleteCategoriesType.bind(Object(K.a)(n)),n.onEditCategoriesType=n.onEditCategoriesType.bind(Object(K.a)(n)),n.validator=new B.a({autoForceUpdate:Object(K.a)(n)}),n.apiBase="https://ncm-heroku.herokuapp.com/api/v1//api",n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.loadCategoriesType()}},{key:"loadCategoriesType",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/categoriestype").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({rowData:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"onCreateCategoriesType",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c,d,u=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.typeName,n=t.typeValue,s=t.typeDescription,i=t.typeOrder,o=t.typeDefault,r=t.typeStatus,this.setState({isLoading:!0}),e.next=7,f.a.post("https://ncm-heroku.herokuapp.com/api/v1/categoriestype").send({typeName:a,typeValue:n,typeDescription:s,typeOrder:i,typeDefault:o,typeStatus:r});case 7:c=e.sent,(d=c.body).success?this.setState({typeName:"",typeValue:"",typeDescription:"",typeOrder:"",typeDefault:"",typeStatus:"",isLoading:!1,isPopupOpen:!1},(function(){u.loadCategoriesType(),Object(T.confirmAlert)({title:"CategoriesType",message:d.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"CategoriesType",message:d.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onEditCategoriesType",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c,d,u,m,p=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.selectedRow,n=t.id,s=t.typeName,i=t.typeValue,o=t.typeDescription,r=t.typeOrder,c=t.typeDefault,d=t.typeStatus,this.setState({isLoading:!0}),e.next=7,f.a.patch("https://ncm-heroku.herokuapp.com/api/v1/categoriestype/id/"+a.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token"))).send({id:n,typeName:s,typeValue:i,typeDescription:o,typeOrder:r,typeDefault:c,typeStatus:d});case 7:u=e.sent,(m=u.body).success?this.setState({isLoading:!1,isPopupOpen:!1,selectedRow:null},(function(){p.loadCategoriesType(),Object(T.confirmAlert)({title:"CategoriesType",message:m.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"CategoriesType",message:m.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onAddEditCategoriesType",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=this.state.selectedRow)||"edit"!=t){e.next=5;break}return e.abrupt("return");case 5:"edit"==t?this.setState({isPopupOpen:!0,actionType:"Update CategoriesType",id:a.id,typeName:a.typeName,typeValue:a.typeValue,typeDescription:a.typeDescription,typeOrder:a.typeOrder,typeDefault:a.typeDefault,typeStatus:a.typeStatus}):this.setState({isPopupOpen:!0,actionType:"Add CategoriesType",id:null,typeName:"",typeValue:"",typeDescription:"",typeOrder:"",typeDefault:"",typeStatus:""});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDeleteCategoriesType",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.selectedRow,Object(T.confirmAlert)({title:"Delete CategoriesType",message:"Are you sure you wants to delete the record : "+t.vendorName+"?",buttons:[{label:"Confirm",onClick:function(){a.deleteCategoriesType()}},{label:"Cancel",onClick:function(){}}],closeOnCllickOutside:!1,closeOnEscape:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteCategoriesType",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.selectedRow,this.setState({isLoading:!0}),e.next=4,f.a.del("https://ncm-heroku.herokuapp.com/api/v1/categoriestype/id/"+t.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:a=e.sent,(n=a.body).success?this.setState({id:null,typeName:"",typeValue:"",typeDescription:"",typeOrder:"",typeDefault:"",typeStatus:"",selectedRow:null},(function(){s.loadCategoriesType(),Object(T.confirmAlert)({title:"CategoriesType",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"CategoriesType",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleImageUploadChange",value:function(e){this.setState({gameBoard:URL.createObjectURL(e.target.files[0])})}},{key:"onRowDoubleClicked",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.gridApi.getSelectedRows(),this.setState({selectedRow:a&&a.length>0?a[0]:null},(function(){n.onAddEditCategoriesType(t)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.isPopupOpen;return this.validator.purgeFields(),s.a.createElement(j.a,{active:a,spinner:!0},s.a.createElement("div",{className:"card m-10"},s.a.createElement("section",{className:"content"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{style:{width:"100%",display:n?"none":"block"}},s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-danger float-right",onClick:this.onDeleteCategoriesType},"Delete Record"),s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-info float-right  mx-2",onClick:this.onAddEditCategoriesType.bind(this,"edit")},"Update Record"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right ",onClick:this.onAddEditCategoriesType.bind(this,"add")},"Add New")),s.a.createElement("div",{style:{width:"100%",display:n?"block":"none"}},s.a.createElement("strong",{className:"text-center"},this.state.actionType," "),s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearCategoriesType()}))}},"Back")),s.a.createElement("div",{className:"card-body table-responsive p-0",style:{display:n?"none":"block"}},s.a.createElement("div",{style:{width:"100%",height:"550px",marginTop:"10px"}},s.a.createElement("div",{id:"RoleNameGrid",style:{height:"550px",width:"100%"},className:"ag-theme-alpine"},s.a.createElement(U.AgGridReact,{modules:this.state.modules,columnDefs:this.state.columnDefs,defaultColDef:this.state.defaultColDef,enableCellTextSelection:!0,rowSelection:this.state.rowSelection,onGridReady:this.onGridReady,rowData:this.state.rowData,pagination:!0,paginationPageSize:this.state.paginationPageSize,onSelectionChanged:this.onSelectionChanged.bind(this),rowDeselection:!0,onRowDoubleClicked:function(){return e.onRowDoubleClicked("edit")}})))))))),s.a.createElement("section",{className:"content",style:{display:n?"block":"none"}},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"typeName"},"Type Name "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"typeName",value:this.state.typeName,className:"form-control"}),this.validator.message("typeName",this.state.typeName,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"typeValue"},"Type Value "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"typeValue",value:this.state.typeValue,className:"form-control"}),this.validator.message("typeValue",this.state.typeValue,"required",{className:"text-danger small-font14"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"typeOrder"},"Type Order "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"typeOrder",value:this.state.typeOrder,className:"form-control"}),this.validator.message("typeOrder",this.state.typeOrder,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"typeStatus"},"Type Status "),s.a.createElement("div",{className:"custom-control custom-switch"},s.a.createElement("input",{type:"checkbox",className:"custom-control-input",onChange:this.onCheckboxChange,id:"typeStatus",value:this.state.typeStatus,checked:1==this.state.typeStatus}),s.a.createElement("label",{className:"custom-control-label",for:"typeStatus"}))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"typeDescription"},"Type Description "),s.a.createElement("textarea",{onChange:this.onTextChange,id:"typeDescription",value:this.state.typeDescription,className:"form-control"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"typeDefault"},"Type Default "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"typeDefault",value:this.state.typeDefault,className:"form-control"}),this.validator.message("typeDefault",this.state.typeDefault,"required",{className:"text-danger small-font14"}))))),s.a.createElement("div",{style:{padding:"0 5px 5px",display:"inline-block",width:"100%"}},s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearCategoriesType()}))}},"Cancel"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right  mx-1",onClick:"Update CategoriesType"==this.state.actionType?this.onEditCategoriesType:this.onCreateCategoriesType},"Submit")))))}}]),a}(n.Component),be=Object(r.b)((function(e){return{tabSettings:e.userReducer.tabSettings}}),(function(e){return{updateTabNavigation:function(t){e(x(t))}}}))(ge),fe=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onGridReady=function(e){n.gridApi=e.api,n.gridColumnApi=e.columnApi},n.onBtStartEditing=function(e,t,a){n.gridApi.setFocusedCell(0,"lastName",a),n.gridApi.startEditingCell({rowIndex:0,colKey:"lastName",rowPinned:a,keyPress:e,charPress:t})},n.clearConfig=function(){n.setState({selectedRow:null,isPopupOpen:!1,organisationId:"",isDeleted:!1}),n.validator.hideMessages()},n.onTextChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.value))},n.onCheckboxChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.checked?1:0))},n.onClickTab=function(e){n.props.updateTabNavigation({TabName:e})},n.onEditorConfigChange=function(e){n.setState({editorConfig:e,description:e&&_()(Object(M.convertToRaw)(e.getCurrentContent()))})},n.onChangeOrg=function(e,t){"select-option"==t.action&&n.setState({selectedOrg:e,orgId:e.id})},n.onSelectionChanged=function(){var e=n.gridApi.getSelectedRows();n.setState({selectedRow:e&&e.length>0?e[0]:null})},n.state={isLoading:!1,selectedSequence:null,modules:U.AllModules,columnDefs:[{field:"id",headerName:"Config Id"},{field:"configName",headerName:"Config Name"},{field:"configValue",headerName:"Config Value"},{field:"configStatus",headerName:"Config Status",valueGetter:function(e){return 0==e.data.configStatus?"InActive":"Active"},cellStyle:function(e){return 1==e.data.configStatus?{color:"green"}:{color:"red"}}},{field:"orgName",headerName:"Organization"}],defaultColDef:{flex:1,minWidth:100,sortable:!0,resizable:!0,autoHeight:!0,filter:!0},getRowHeight:function(e){return 18*(Math.floor(e.data.description.length/50)+1)},rowSelection:"single",selectedRow:null,paginationPageSize:10,rowData:[],editorConfig:null,orgList:[],selectedUserRole:null,recentlyCreatedOrgUserId:"",isPopupOpen:!1,actionType:null,configName:"",configValue:"",configStatus:"",orgId:null,selectedOrg:null},n.onCreateConfig=n.onCreateConfig.bind(Object(K.a)(n)),n.onAddEditConfig=n.onAddEditConfig.bind(Object(K.a)(n)),n.onDeleteConfig=n.onDeleteConfig.bind(Object(K.a)(n)),n.onEditConfig=n.onEditConfig.bind(Object(K.a)(n)),n.validator=new B.a({autoForceUpdate:Object(K.a)(n)}),n.apiBase="https://ncm-heroku.herokuapp.com/api/v1//api",n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.loadConfig(),this.loadOrganization()}},{key:"loadConfig",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/configs").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({rowData:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadOrganization",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/organizations").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({orgList:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"onCreateConfig",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.configName,n=t.configValue,s=t.configStatus,i=t.orgId,this.setState({isLoading:!0}),e.next=7,f.a.post("https://ncm-heroku.herokuapp.com/api/v1/configs").send({configName:a,configValue:n,configStatus:s,orgId:i});case 7:o=e.sent,(r=o.body).success?this.setState({configName:"",configValue:"",configStatus:"",orgId:null,isLoading:!1,isPopupOpen:!1},(function(){c.loadConfig(),Object(T.confirmAlert)({title:"Config",message:r.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"Config",message:r.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onEditConfig",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c,d,u=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.selectedRow,n=t.id,s=t.configName,i=t.configValue,o=t.configStatus,r=t.orgId,this.setState({isLoading:!0}),e.next=7,f.a.patch("https://ncm-heroku.herokuapp.com/api/v1/configs/id/"+a.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token"))).send({id:n,configName:s,configValue:i,configStatus:o,orgId:r});case 7:c=e.sent,(d=c.body).success?this.setState({isLoading:!1,isPopupOpen:!1,selectedRow:null},(function(){u.loadConfig(),Object(T.confirmAlert)({title:"Config",message:d.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"Config",message:d.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onAddEditConfig",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,n=a.selectedRow,s=a.orgList,n||"edit"!=t){e.next=5;break}return e.abrupt("return");case 5:"edit"==t?this.setState({isPopupOpen:!0,actionType:"Update Config",id:n.id,configName:n.configName,configValue:n.configValue,configStatus:n.configStatus,orgId:n.orgId,selectedOrg:{id:n.orgId,orgName:s.find((function(e){return e.id===n.orgId})).orgName}}):this.setState({isPopupOpen:!0,actionType:"Add Config",id:null,configName:"",configValue:"",configStatus:"",orgId:null});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDeleteConfig",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.selectedRow,Object(T.confirmAlert)({title:"Delete Config",message:"Are you sure you wants to delete the record : "+t.configName+"?",buttons:[{label:"Confirm",onClick:function(){a.deleteConfig()}},{label:"Cancel",onClick:function(){}}],closeOnCllickOutside:!1,closeOnEscape:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteConfig",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.selectedRow,this.setState({isLoading:!0}),e.next=4,f.a.del("https://ncm-heroku.herokuapp.com/api/v1/configs/id/"+t.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:a=e.sent,(n=a.body).success?this.setState({id:null,configName:"",configValue:"",configStatus:"",orgId:null,selectedRow:null},(function(){s.loadConfig(),Object(T.confirmAlert)({title:"Config",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"Config",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleImageUploadChange",value:function(e){this.setState({gameBoard:URL.createObjectURL(e.target.files[0])})}},{key:"onRowDoubleClicked",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.gridApi.getSelectedRows(),this.setState({selectedRow:a&&a.length>0?a[0]:null},(function(){n.onAddEditConfig(t)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.isPopupOpen;return this.validator.purgeFields(),s.a.createElement(j.a,{active:a,spinner:!0},s.a.createElement("div",{className:"card m-10"},s.a.createElement("section",{className:"content"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{style:{width:"100%",display:n?"none":"block"}},s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-danger float-right",onClick:this.onDeleteConfig},"Delete Record"),s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-info float-right  mx-2",onClick:this.onAddEditConfig.bind(this,"edit")},"Update Record"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right ",onClick:this.onAddEditConfig.bind(this,"add")},"Add New")),s.a.createElement("div",{style:{width:"100%",display:n?"block":"none"}},s.a.createElement("strong",{className:"text-center"},this.state.actionType," "),s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearConfig()}))}},"Back")),s.a.createElement("div",{className:"card-body table-responsive p-0",style:{display:n?"none":"block"}},s.a.createElement("div",{style:{width:"100%",height:"550px",marginTop:"10px"}},s.a.createElement("div",{id:"RoleNameGrid",style:{height:"550px",width:"100%"},className:"ag-theme-alpine"},s.a.createElement(U.AgGridReact,{modules:this.state.modules,columnDefs:this.state.columnDefs,defaultColDef:this.state.defaultColDef,enableCellTextSelection:!0,rowSelection:this.state.rowSelection,onGridReady:this.onGridReady,rowData:this.state.rowData,pagination:!0,paginationPageSize:this.state.paginationPageSize,onSelectionChanged:this.onSelectionChanged.bind(this),rowDeselection:!0,onRowDoubleClicked:function(){return e.onRowDoubleClicked("edit")}})))))))),s.a.createElement("section",{className:"content",style:{display:n?"block":"none"}},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"configName"},"ConfigName "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"configName",value:this.state.configName,className:"form-control"}),this.validator.message("configName",this.state.configName,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"configValue"},"Config Value "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"configValue",value:this.state.configValue,className:"form-control"}),this.validator.message("configValue",this.state.configValue,"required",{className:"text-danger small-font14"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"orgId"},"Organization "),s.a.createElement(Z.a,{id:"org",value:this.state.selectedOrg,onChange:this.onChangeOrg,options:this.state.orgList,getOptionLabel:function(e){return e.orgName},getOptionValue:function(e){return e.id}}),this.validator.message("selectedOrg",this.state.selectedOrg,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"configStatus"},"Config Status "),s.a.createElement("div",{className:"custom-control custom-switch"},s.a.createElement("input",{type:"checkbox",className:"custom-control-input",onChange:this.onCheckboxChange,id:"configStatus",value:this.state.configStatus,checked:1==this.state.configStatus}),s.a.createElement("label",{className:"custom-control-label",for:"configStatus"}))))),s.a.createElement("div",{style:{padding:"0 15px 15px",display:"inline-block",width:"100%"}},s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearConfig()}))}},"Cancel"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right  mx-1",onClick:"Update Config"==this.state.actionType?this.onEditConfig:this.onCreateConfig},"Submit"))))))}}]),a}(n.Component),ve=Object(r.b)((function(e){return{tabSettings:e.userReducer.tabSettings}}),(function(e){return{updateTabNavigation:function(t){e(x(t))}}}))(fe),ye=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onGridReady=function(e){n.gridApi=e.api,n.gridColumnApi=e.columnApi},n.onBtStartEditing=function(e,t,a){n.gridApi.setFocusedCell(0,"lastName",a),n.gridApi.startEditingCell({rowIndex:0,colKey:"lastName",rowPinned:a,keyPress:e,charPress:t})},n.clearDeviceLog=function(){n.setState({selectedRow:null,isPopupOpen:!1,organisationId:"",isDeleted:!1}),n.validator.hideMessages()},n.onTextChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.value))},n.onClickTab=function(e){n.props.updateTabNavigation({TabName:e})},n.onEditorDeviceLogChange=function(e){n.setState({editorDeviceLog:e,description:e&&_()(Object(M.convertToRaw)(e.getCurrentContent()))})},n.onChangeOrg=function(e,t){"select-option"==t.action&&n.setState({selectedOrg:e,orgId:e.id})},n.onChangeOrgDevice=function(e,t){"select-option"==t.action&&n.setState({selectedOrgDevice:e,orgDeviceId:e.deviceId})},n.onSelectionChanged=function(){var e=n.gridApi.getSelectedRows();n.setState({selectedRow:e&&e.length>0?e[0]:null})},n.state={isLoading:!1,selectedSequence:null,modules:U.AllModules,columnDefs:[{field:"id",headerName:"Log Id"},{field:"logDateTime",headerName:"Log DateTime"},{field:"logMessage",headerName:"Log Message"},{field:"logMessageType",headerName:"Log Message Type"},{field:"logType",headerName:"log Type"},{field:"orgDeviceId",headerName:"Org DeviceId"},{field:"orgName",headerName:"Org Id"}],defaultColDef:{flex:1,minWidth:100,sortable:!0,resizable:!0,autoHeight:!0,filter:!0},rowSelection:"single",selectedRow:null,paginationPageSize:10,rowData:[],editorDeviceLog:null,userRoleList:[],selectedUserRole:null,recentlyCreatedOrgUserId:"",isPopupOpen:!1,actionType:null,logDateTime:"",logMessage:"",logMessageType:"",logType:"",orgDeviceId:"",orgId:null,selectedOrg:null,orgList:[],orgDeviceList:[]},n.onCreateDeviceLog=n.onCreateDeviceLog.bind(Object(K.a)(n)),n.onAddEditDeviceLog=n.onAddEditDeviceLog.bind(Object(K.a)(n)),n.onDeleteDeviceLog=n.onDeleteDeviceLog.bind(Object(K.a)(n)),n.onEditDeviceLog=n.onEditDeviceLog.bind(Object(K.a)(n)),n.validator=new B.a({autoForceUpdate:Object(K.a)(n)}),n.apiBase="https://ncm-heroku.herokuapp.com/api/v1//api",n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.loadDeviceLog(),this.loadOrganization(),this.loadOrgDevices()}},{key:"loadDeviceLog",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/devicelogs").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({rowData:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadOrganization",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/organizations").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({orgList:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadOrgDevices",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/orgdevices").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({orgDeviceList:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"onCreateDeviceLog",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c,d,u=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.logDateTime,n=t.logMessage,s=t.logMessageType,i=t.logType,o=t.orgDeviceId,r=t.orgId,this.setState({isLoading:!0}),e.next=7,f.a.post("https://ncm-heroku.herokuapp.com/api/v1/devicelogs").send({logDateTime:a,logMessage:n,logMessageType:s,logType:i,orgDeviceId:o,orgId:r});case 7:c=e.sent,(d=c.body).success?this.setState({logDateTime:"",logMessage:"",logMessageType:"",logType:"",orgDeviceId:"",orgId:null,isLoading:!1,isPopupOpen:!1},(function(){u.loadDeviceLog(),Object(T.confirmAlert)({title:"DeviceLog",message:d.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"DeviceLog",message:d.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onEditDeviceLog",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c,d,u,m,p=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.selectedRow,n=t.id,s=t.logDateTime,i=t.logMessage,o=t.logMessageType,r=t.logType,c=t.orgDeviceId,d=t.orgId,this.setState({isLoading:!0}),e.next=7,f.a.patch("https://ncm-heroku.herokuapp.com/api/v1/devicelogs/id/"+a.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token"))).send({id:n,logDateTime:s,logMessage:i,logMessageType:o,logType:r,orgDeviceId:c,orgId:d});case 7:u=e.sent,(m=u.body).success?this.setState({isLoading:!1,isPopupOpen:!1,selectedRow:null},(function(){p.loadDeviceLog(),Object(T.confirmAlert)({title:"DeviceLog",message:m.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"DeviceLog",message:m.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onAddEditDeviceLog",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,n=a.selectedRow,s=a.orgList,i=a.orgDeviceList,n||"edit"!=t){e.next=5;break}return e.abrupt("return");case 5:"edit"==t?this.setState({isPopupOpen:!0,actionType:"Update DeviceLog",id:n.id,logDateTime:n.logDateTime,logMessage:n.logMessage,logMessageType:n.logMessageType,logType:n.logType,orgDeviceId:n.orgDeviceId,orgId:n.orgId,selectedOrg:{id:n.orgId,orgName:s.find((function(e){return e.id===n.orgId})).orgName},selectedOrgDevice:{id:n.orgDeviceId,deviceCode:i.find((function(e){return e.id===n.orgDeviceId})).deviceCode}}):this.setState({isPopupOpen:!0,actionType:"Add DeviceLog",id:null,logDateTime:"",logMessage:"",logMessageType:"",logType:"",orgDeviceId:"",orgId:null});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDeleteDeviceLog",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.selectedRow,Object(T.confirmAlert)({title:"Delete DeviceLog",message:"Are you sure you wants to delete the record : "+t.logDateTime+"?",buttons:[{label:"Confirm",onClick:function(){a.deleteDeviceLog()}},{label:"Cancel",onClick:function(){}}],closeOnCllickOutside:!1,closeOnEscape:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteDeviceLog",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.selectedRow,this.setState({isLoading:!0}),e.next=4,f.a.del("https://ncm-heroku.herokuapp.com/api/v1/devicelogs/id/"+t.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:a=e.sent,(n=a.body).success?this.setState({id:null,logDateTime:"",logMessage:"",logMessageType:"",logType:"",orgDeviceId:"",orgId:null,selectedRow:null},(function(){s.loadDeviceLog(),Object(T.confirmAlert)({title:"DeviceLog",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"DeviceLog",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleImageUploadChange",value:function(e){this.setState({gameBoard:URL.createObjectURL(e.target.files[0])})}},{key:"onRowDoubleClicked",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.gridApi.getSelectedRows(),this.setState({selectedRow:a&&a.length>0?a[0]:null},(function(){n.onAddEditDeviceLog(t)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.isPopupOpen;return this.validator.purgeFields(),s.a.createElement(j.a,{active:a,spinner:!0},s.a.createElement("div",{className:"card m-10"},s.a.createElement("section",{className:"content"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{style:{width:"100%",display:n?"none":"block"}},s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-danger float-right",onClick:this.onDeleteDeviceLog},"Delete Record"),s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-info float-right  mx-2",onClick:this.onAddEditDeviceLog.bind(this,"edit")},"Update Record"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right ",onClick:this.onAddEditDeviceLog.bind(this,"add")},"Add New")),s.a.createElement("div",{style:{width:"100%",display:n?"block":"none"}},s.a.createElement("strong",{className:"text-center"},this.state.actionType," "),s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearDeviceLog()}))}},"Back")),s.a.createElement("div",{className:"card-body table-responsive p-0",style:{display:n?"none":"block"}},s.a.createElement("div",{style:{width:"100%",height:"550px",marginTop:"10px"}},s.a.createElement("div",{id:"RoleNameGrid",style:{height:"550px",width:"100%"},className:"ag-theme-alpine"},s.a.createElement(U.AgGridReact,{modules:this.state.modules,columnDefs:this.state.columnDefs,defaultColDef:this.state.defaultColDef,enableCellTextSelection:!0,rowSelection:this.state.rowSelection,onGridReady:this.onGridReady,rowData:this.state.rowData,pagination:!0,paginationPageSize:this.state.paginationPageSize,onSelectionChanged:this.onSelectionChanged.bind(this),rowDeselection:!0,onRowDoubleClicked:function(){return e.onRowDoubleClicked("edit")}})))))))),s.a.createElement("section",{className:"content",style:{display:n?"block":"none"}},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"logDateTime"},"Log DateTime "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"logDateTime",value:this.state.logDateTime,className:"form-control"}),this.validator.message("logDateTime",this.state.logDateTime,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"logMessageType"},"Log MessageType "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"logMessageType",value:this.state.logMessageType,className:"form-control"}),this.validator.message("logMessageType",this.state.logMessageType,"required",{className:"text-danger small-font14"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"logType"},"Log Type "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"logType",value:this.state.logType,className:"form-control"}),this.validator.message("logType",this.state.logType,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"orgDeviceId"},"Org Device Id "),s.a.createElement(Z.a,{id:"orgDevice",value:this.state.selectedOrgDevice,onChange:this.onChangeOrgDevice,options:this.state.orgDeviceList,getOptionLabel:function(e){return e.deviceCode},getOptionValue:function(e){return e.id}}),this.validator.message("orgDeviceId",this.state.orgDeviceId,"required",{className:"text-danger small-font14"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"logMessage"},"Log Message "),s.a.createElement("textarea",{onChange:this.onTextChange,id:"logMessage",value:this.state.logMessage,className:"form-control"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"orgId"},"Organization "),s.a.createElement(Z.a,{id:"org",value:this.state.selectedOrg,onChange:this.onChangeOrg,options:this.state.orgList,getOptionLabel:function(e){return e.orgName},getOptionValue:function(e){return e.id}}),this.validator.message("selectedOrg",this.state.selectedOrg,"required",{className:"text-danger small-font14"}))))),s.a.createElement("div",{style:{padding:"0 15px 15px",display:"inline-block",width:"100%"}},s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearDeviceLog()}))}},"Cancel"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right  mx-1",onClick:"Update DeviceLog"==this.state.actionType?this.onEditDeviceLog:this.onCreateDeviceLog},"Submit")))))}}]),a}(n.Component),Ee=Object(r.b)((function(e){return{tabSettings:e.userReducer.tabSettings}}),(function(e){return{updateTabNavigation:function(t){e(x(t))}}}))(ye),ke=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onGridReady=function(e){n.gridApi=e.api,n.gridColumnApi=e.columnApi},n.onBtStartEditing=function(e,t,a){n.gridApi.setFocusedCell(0,"lastName",a),n.gridApi.startEditingCell({rowIndex:0,colKey:"lastName",rowPinned:a,keyPress:e,charPress:t})},n.clearJobLog=function(){n.setState({selectedRow:null,isPopupOpen:!1,organisationId:"",isDeleted:!1}),n.validator.hideMessages()},n.onTextChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.value))},n.onClickTab=function(e){n.props.updateTabNavigation({TabName:e})},n.onEditorJobLogChange=function(e){n.setState({editorJobLog:e,description:e&&_()(Object(M.convertToRaw)(e.getCurrentContent()))})},n.onChangeJobMaster=function(e,t){"select-option"==t.action&&n.setState({selectedJobId:e,jobId:e.id})},n.onSelectionChanged=function(){var e=n.gridApi.getSelectedRows();n.setState({selectedRow:e&&e.length>0?e[0]:null})},n.state={isLoading:!1,vendorList:[],selectedSequence:null,modules:U.AllModules,columnDefs:[{field:"id",headerName:"JobLog Id"},{field:"jobLogDateTime",headerName:"JobLog DateTime"},{field:"jobLogMessage",headerName:"JobLog Message"},{field:"jobName",headerName:"Job"}],defaultColDef:{flex:1,minWidth:100,sortable:!0,resizable:!0,autoHeight:!0,filter:!0},getRowHeight:function(e){return 18*(Math.floor(e.data.description.length/50)+1)},rowSelection:"single",selectedRow:null,paginationPageSize:10,rowData:[],editorJobLog:null,userRoleList:[],selectedUserRole:null,recentlyCreatedOrgUserId:"",isPopupOpen:!1,actionType:null,jobLogDateTime:"",jobLogMessage:"",jobId:null,jobMasterList:[],countryList:[],selectedJobId:null},n.onCreateJobLog=n.onCreateJobLog.bind(Object(K.a)(n)),n.onAddEditJobLog=n.onAddEditJobLog.bind(Object(K.a)(n)),n.onDeleteJobLog=n.onDeleteJobLog.bind(Object(K.a)(n)),n.onEditJobLog=n.onEditJobLog.bind(Object(K.a)(n)),n.validator=new B.a({autoForceUpdate:Object(K.a)(n)}),n.apiBase="https://ncm-heroku.herokuapp.com/api/v1//api",n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.loadJobLog(),this.loadJobMaster()}},{key:"loadJobLog",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/joblog").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({rowData:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadJobMaster",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/jobmaster").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({jobMasterList:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"onCreateJobLog",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.jobLogDateTime,n=t.jobLogMessage,s=t.jobId,this.setState({isLoading:!0}),e.next=7,f.a.post("https://ncm-heroku.herokuapp.com/api/v1/joblog").send({jobLogDateTime:a,jobLogMessage:n,jobId:s});case 7:i=e.sent,(o=i.body).success?this.setState({jobLogDateTime:"",jobLogMessage:"",jobId:null,isLoading:!1,isPopupOpen:!1},(function(){r.loadJobLog(),Object(T.confirmAlert)({title:"JobLog",message:o.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"JobLog",message:o.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onEditJobLog",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c,d=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.selectedRow,n=t.id,s=t.jobLogDateTime,i=t.jobLogMessage,o=t.jobId,this.setState({isLoading:!0}),e.next=7,f.a.patch("https://ncm-heroku.herokuapp.com/api/v1/joblog/id/"+a.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token"))).send({id:n,jobLogDateTime:s,jobLogMessage:i,jobId:o});case 7:r=e.sent,(c=r.body).success?this.setState({isLoading:!1,isPopupOpen:!1,selectedRow:null},(function(){d.loadJobLog(),Object(T.confirmAlert)({title:"JobLog",message:c.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"JobLog",message:c.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onAddEditJobLog",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n,s,i=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,n=a.selectedRow,s=a.jobMasterList,n||"edit"!=t){e.next=5;break}return e.abrupt("return");case 5:"edit"==t?this.setState({isPopupOpen:!0,actionType:"Update JobLog",id:n.id,jobLogDateTime:n.jobLogDateTime,jobLogMessage:n.jobLogMessage,jobId:n.jobId,selectedJobId:{id:n.jobId,jobName:s.find((function(e){return e.id===n.jobId})).jobName}},(function(){console.log(i.state.selectedJobId)})):this.setState({isPopupOpen:!0,actionType:"Add JobLog",id:null,jobLogDateTime:"",jobLogMessage:"",jobId:null});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDeleteJobLog",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.selectedRow,Object(T.confirmAlert)({title:"Delete JobLog",message:"Are you sure you wants to delete the record : "+t.jobLogDateTime+"?",buttons:[{label:"Confirm",onClick:function(){a.deleteJobLog()}},{label:"Cancel",onClick:function(){}}],closeOnCllickOutside:!1,closeOnEscape:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteJobLog",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.selectedRow,this.setState({isLoading:!0}),e.next=4,f.a.del("https://ncm-heroku.herokuapp.com/api/v1/joblog/id/"+t.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:a=e.sent,(n=a.body).success?this.setState({id:null,jobLogDateTime:"",jobLogMessage:"",jobId:null,selectedRow:null},(function(){s.loadJobLog(),Object(T.confirmAlert)({title:"JobLog",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"JobLog",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleImageUploadChange",value:function(e){this.setState({gameBoard:URL.createObjectURL(e.target.files[0])})}},{key:"onRowDoubleClicked",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.gridApi.getSelectedRows(),this.setState({selectedRow:a&&a.length>0?a[0]:null},(function(){n.onAddEditJobLog(t)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.jobMasterList,n=t.isLoading,i=t.isPopupOpen;return this.validator.purgeFields(),s.a.createElement(j.a,{active:n,spinner:!0},s.a.createElement("div",{className:"card m-10"},s.a.createElement("section",{className:"content"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{style:{width:"100%",display:i?"none":"block"}},s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-danger float-right",onClick:this.onDeleteJobLog},"Delete Record"),s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-info float-right  mx-2",onClick:this.onAddEditJobLog.bind(this,"edit")},"Update Record"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right ",onClick:this.onAddEditJobLog.bind(this,"add")},"Add New")),s.a.createElement("div",{style:{width:"100%",display:i?"block":"none"}},s.a.createElement("strong",{className:"text-center"},this.state.actionType," "),s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearJobLog()}))}},"Back")),s.a.createElement("div",{className:"card-body table-responsive p-0",style:{display:i?"none":"block"}},s.a.createElement("div",{style:{width:"100%",height:"550px",marginTop:"10px"}},s.a.createElement("div",{id:"RoleNameGrid",style:{height:"550px",width:"100%"},className:"ag-theme-alpine"},s.a.createElement(U.AgGridReact,{modules:this.state.modules,columnDefs:this.state.columnDefs,defaultColDef:this.state.defaultColDef,enableCellTextSelection:!0,rowSelection:this.state.rowSelection,onGridReady:this.onGridReady,rowData:this.state.rowData,pagination:!0,paginationPageSize:this.state.paginationPageSize,onSelectionChanged:this.onSelectionChanged.bind(this),rowDeselection:!0,onRowDoubleClicked:function(){return e.onRowDoubleClicked("edit")}})))))))),s.a.createElement("section",{className:"content",style:{display:i?"block":"none"}},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"jobLogDateTime"},"jobLogDateTime "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"jobLogDateTime",value:this.state.jobLogDateTime,className:"form-control"}),this.validator.message("jobLogDateTime",this.state.jobLogDateTime,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"jobId"},"Job Id "),s.a.createElement(Z.a,{id:"jobId",value:this.state.selectedJobId,onChange:this.onChangeJobMaster,options:a,getOptionLabel:function(e){return e.jobName},getOptionValue:function(e){return e.id}}),this.validator.message("selectedJobId",this.state.selectedJobId,"required",{className:"text-danger small-font14"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"jobLogMessage"},"JobLog Message "),s.a.createElement("textarea",{onChange:this.onTextChange,id:"jobLogMessage",value:this.state.jobLogMessage,className:"form-control"})))),s.a.createElement("div",{style:{padding:"0 15px 15px",display:"inline-block",width:"100%"}},s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearJobLog()}))}},"Cancel"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right  mx-1",onClick:"Update JobLog"==this.state.actionType?this.onEditJobLog:this.onCreateJobLog},"Submit"))))))}}]),a}(n.Component),Ce=Object(r.b)((function(e){return{tabSettings:e.userReducer.tabSettings,vendorList:e.userReducer.playerList}}),(function(e){return{updateTabNavigation:function(t){e(x(t))}}}))(ke),Ne=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onGridReady=function(e){n.gridApi=e.api,n.gridColumnApi=e.columnApi},n.onBtStartEditing=function(e,t,a){n.gridApi.setFocusedCell(0,"lastName",a),n.gridApi.startEditingCell({rowIndex:0,colKey:"lastName",rowPinned:a,keyPress:e,charPress:t})},n.clearJobMaster=function(){n.setState({selectedRow:null,isPopupOpen:!1,organisationId:"",isDeleted:!1}),n.validator.hideMessages()},n.onTextChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.value))},n.onClickTab=function(e){n.props.updateTabNavigation({TabName:e})},n.handleSequenceNumber=function(e){n.setState({selectedSequence:e},(function(){return console.log("Option selected:",n.state.selectedSequence)}))},n.onEditorJobMasterChange=function(e){n.setState({editorJobMaster:e,description:e&&_()(Object(M.convertToRaw)(e.getCurrentContent()))})},n.onChangeOrg=function(e,t){"select-option"==t.action&&n.setState({selectedOrg:e,orgId:e.id})},n.onSelectionChanged=function(){var e=n.gridApi.getSelectedRows();n.setState({selectedRow:e&&e.length>0?e[0]:null})},n.state={isLoading:!1,vendorList:[],selectedSequence:null,modules:U.AllModules,columnDefs:[{field:"id",headerName:"Job Master Id"},{field:"jobName",headerName:"Job Name"},{field:"jobSchedule",headerName:"Job Schedule"},{field:"jobType",headerName:"Job Type"},{field:"jobConfig",headerName:"Job Config"},{field:"orgName",headerName:"Organization"}],defaultColDef:{flex:1,minWidth:100,sortable:!0,resizable:!0,autoHeight:!0,filter:!0},rowSelection:"single",selectedRow:null,paginationPageSize:10,rowData:[],editorJobMaster:null,userRoleList:[],selectedUserRole:null,recentlyCreatedOrgUserId:"",isPopupOpen:!1,actionType:null,jobName:"",jobSchedule:"",jobType:"",jobConfig:"",orgId:null,selectedOrg:null,orgList:[]},n.onCreateJobMaster=n.onCreateJobMaster.bind(Object(K.a)(n)),n.onAddEditJobMaster=n.onAddEditJobMaster.bind(Object(K.a)(n)),n.onDeleteJobMaster=n.onDeleteJobMaster.bind(Object(K.a)(n)),n.onEditJobMaster=n.onEditJobMaster.bind(Object(K.a)(n)),n.validator=new B.a({autoForceUpdate:Object(K.a)(n)}),n.apiBase="https://ncm-heroku.herokuapp.com/api/v1//api",n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.loadJobMaster(),this.loadOrganization()}},{key:"loadJobMaster",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/jobmaster").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({rowData:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadOrganization",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/organizations").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({orgList:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"onCreateJobMaster",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c,d=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.jobName,n=t.jobSchedule,s=t.jobType,i=t.jobConfig,o=t.orgId,this.setState({isLoading:!0}),e.next=7,f.a.post("https://ncm-heroku.herokuapp.com/api/v1/jobmaster").send({jobName:a,jobSchedule:n,jobType:s,jobConfig:i,orgId:o});case 7:r=e.sent,(c=r.body).success?this.setState({jobName:"",jobSchedule:"",jobType:"",jobConfig:"",orgId:null,isLoading:!1,isPopupOpen:!1},(function(){d.loadJobMaster(),Object(T.confirmAlert)({title:"JobMaster",message:c.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"JobMaster",message:c.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onEditJobMaster",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c,d,u,m=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.selectedRow,n=t.id,s=t.jobName,i=t.jobSchedule,o=t.jobType,r=t.jobConfig,c=t.orgId,this.setState({isLoading:!0}),e.next=7,f.a.patch("https://ncm-heroku.herokuapp.com/api/v1/jobmaster/id/"+a.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token"))).send({id:n,jobName:s,jobSchedule:i,jobType:o,jobConfig:r,orgId:c});case 7:d=e.sent,(u=d.body).success?this.setState({isLoading:!1,isPopupOpen:!1,selectedRow:null},(function(){m.loadJobMaster(),Object(T.confirmAlert)({title:"JobMaster",message:u.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"JobMaster",message:u.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onAddEditJobMaster",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,n=a.selectedRow,s=a.orgList,n||"edit"!=t){e.next=5;break}return e.abrupt("return");case 5:"edit"==t?this.setState({isPopupOpen:!0,actionType:"Update JobMaster",id:n.id,jobName:n.jobName,jobSchedule:n.jobSchedule,jobType:n.jobType,jobConfig:n.jobConfig,orgId:n.orgId,selectedOrg:{id:n.orgId,orgName:s.find((function(e){return e.id===n.orgId})).orgName}}):this.setState({isPopupOpen:!0,actionType:"Add JobMaster",id:null,jobName:"",jobSchedule:"",jobType:"",jobConfig:"",orgId:null});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDeleteJobMaster",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.selectedRow,Object(T.confirmAlert)({title:"Delete JobMaster",message:"Are you sure you wants to delete the record : "+t.jobName+"?",buttons:[{label:"Confirm",onClick:function(){a.deleteJobMaster()}},{label:"Cancel",onClick:function(){}}],closeOnCllickOutside:!1,closeOnEscape:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteJobMaster",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.selectedRow,this.setState({isLoading:!0}),e.next=4,f.a.del("https://ncm-heroku.herokuapp.com/api/v1/jobmaster/id/"+t.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:a=e.sent,(n=a.body).success?this.setState({id:null,jobName:"",jobSchedule:"",jobType:"",jobConfig:"",orgId:null,selectedRow:null},(function(){s.loadJobMaster(),Object(T.confirmAlert)({title:"JobMaster",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"JobMaster",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleImageUploadChange",value:function(e){this.setState({gameBoard:URL.createObjectURL(e.target.files[0])})}},{key:"onRowDoubleClicked",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.gridApi.getSelectedRows(),this.setState({selectedRow:a&&a.length>0?a[0]:null},(function(){n.onAddEditJobMaster(t)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=(t.vendorList,t.isLoading),n=t.isPopupOpen;return this.validator.purgeFields(),s.a.createElement(j.a,{active:a,spinner:!0},s.a.createElement("div",{className:"card m-10"},s.a.createElement("section",{className:"content"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{style:{width:"100%",display:n?"none":"block"}},s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-danger float-right",onClick:this.onDeleteJobMaster},"Delete Record"),s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-info float-right  mx-2",onClick:this.onAddEditJobMaster.bind(this,"edit")},"Update Record"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right ",onClick:this.onAddEditJobMaster.bind(this,"add")},"Add New")),s.a.createElement("div",{style:{width:"100%",display:n?"block":"none"}},s.a.createElement("strong",{className:"text-center"},this.state.actionType," "),s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearJobMaster()}))}},"Back")),s.a.createElement("div",{className:"card-body table-responsive p-0",style:{display:n?"none":"block"}},s.a.createElement("div",{style:{width:"100%",height:"550px",marginTop:"10px"}},s.a.createElement("div",{id:"RoleNameGrid",style:{height:"550px",width:"100%"},className:"ag-theme-alpine"},s.a.createElement(U.AgGridReact,{modules:this.state.modules,columnDefs:this.state.columnDefs,defaultColDef:this.state.defaultColDef,enableCellTextSelection:!0,rowSelection:this.state.rowSelection,onGridReady:this.onGridReady,rowData:this.state.rowData,pagination:!0,paginationPageSize:this.state.paginationPageSize,onSelectionChanged:this.onSelectionChanged.bind(this),rowDeselection:!0,onRowDoubleClicked:function(){return e.onRowDoubleClicked("edit")}})))))))),s.a.createElement("section",{className:"content",style:{display:n?"block":"none"}},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"jobName"},"Job Name "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"jobName",value:this.state.jobName,className:"form-control"}),this.validator.message("jobName",this.state.jobName,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"jobSchedule"},"Job Schedule "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"jobSchedule",value:this.state.jobSchedule,className:"form-control"}),this.validator.message("jobSchedule",this.state.jobSchedule,"required",{className:"text-danger small-font14"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"jobType"},"Job Type "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"jobType",value:this.state.jobType,className:"form-control"}),this.validator.message("jobType",this.state.jobType,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"jobConfig"},"Job Config "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"jobConfig",value:this.state.jobConfig,className:"form-control"}),this.validator.message("jobConfig",this.state.jobConfig,"required",{className:"text-danger small-font14"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"orgId"},"Organization "),s.a.createElement(Z.a,{id:"org",value:this.state.selectedOrg,onChange:this.onChangeOrg,options:this.state.orgList,getOptionLabel:function(e){return e.orgName},getOptionValue:function(e){return e.id}}),this.validator.message("selectedOrg",this.state.selectedOrg,"required",{className:"text-danger small-font14"}))))),s.a.createElement("div",{style:{padding:"0 15px 15px",display:"inline-block",width:"100%"}},s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearJobMaster()}))}},"Cancel"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right  mx-1",onClick:"Update JobMaster"==this.state.actionType?this.onEditJobMaster:this.onCreateJobMaster},"Submit")))))}}]),a}(n.Component),Oe=Object(r.b)((function(e){return{tabSettings:e.userReducer.tabSettings,vendorList:e.userReducer.playerList}}),(function(e){return{updateTabNavigation:function(t){e(x(t))}}}))(Ne),Se=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onGridReady=function(e){n.gridApi=e.api,n.gridColumnApi=e.columnApi},n.onBtStartEditing=function(e,t,a){n.gridApi.setFocusedCell(0,"lastName",a),n.gridApi.startEditingCell({rowIndex:0,colKey:"lastName",rowPinned:a,keyPress:e,charPress:t})},n.clearOrgDevice=function(){n.setState({selectedRow:null,isPopupOpen:!1,organisationId:"",isDeleted:!1}),n.validator.hideMessages()},n.onTextChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.value))},n.onClickTab=function(e){n.props.updateTabNavigation({TabName:e})},n.handleSequenceNumber=function(e){n.setState({selectedSequence:e},(function(){return console.log("Option selected:",n.state.selectedSequence)}))},n.onEditorOrgDeviceChange=function(e){n.setState({editorOrgDevice:e,description:e&&_()(Object(M.convertToRaw)(e.getCurrentContent()))})},n.onChangeDevice=function(e,t){"select-option"==t.action&&n.setState({selectedDeviceId:e,deviceId:e.id})},n.onSelectionChanged=function(){var e=n.gridApi.getSelectedRows();n.setState({selectedRow:e&&e.length>0?e[0]:null})},n.onCheckboxChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.checked?1:0))},n.state={isLoading:!1,orgDeviceList:[],selectedSequence:null,modules:U.AllModules,columnDefs:[{field:"id",headerName:"Device Id"},{field:"deviceType",headerName:"Device Type"},{field:"model",headerName:"Device Model"},{field:"deviceStatus",headerName:"Device Status",valueGetter:function(e){return 0==e.data.deviceStatus?"InActive":"Active"},cellStyle:function(e){return 1==e.data.deviceStatus?{color:"green"}:{color:"red"}}},{field:"deviceDescription",headerName:"Description"},{field:"deviceModel",headerName:"Model"},{field:"deviceCode",headerName:"Code"},{field:"deviceLocation",headerName:"Location"},{field:"deviceIP",headerName:"IP"},{field:"deviceCredentials",headerName:"Credentials"},{field:"deviceConnectionType",headerName:"Connection Type"}],defaultColDef:{flex:1,minWidth:100,sortable:!0,resizable:!0,autoHeight:!0,filter:!0},getRowHeight:function(e){return 18*(Math.floor(e.data.description.length/50)+1)},rowSelection:"single",selectedRow:null,paginationPageSize:10,rowData:[],editorOrgDevice:null,userRoleList:[],selectedUserRole:null,recentlyCreatedOrgUserId:"",isPopupOpen:!1,actionType:null,deviceType:"",deviceId:null,deviceDescription:"",deviceModel:"",deviceCode:"",deviceLocation:"",deviceIP:"",deviceCredentials:"",deviceConnectionType:"",deviceStatus:"",selectedCountry:null,countryList:[],deviceList:[]},n.onCreateOrgDevice=n.onCreateOrgDevice.bind(Object(K.a)(n)),n.onAddEditOrgDevice=n.onAddEditOrgDevice.bind(Object(K.a)(n)),n.onDeleteOrgDevice=n.onDeleteOrgDevice.bind(Object(K.a)(n)),n.onEditOrgDevice=n.onEditOrgDevice.bind(Object(K.a)(n)),n.validator=new B.a({autoForceUpdate:Object(K.a)(n)}),n.apiBase="https://ncm-heroku.herokuapp.com/api/v1//api",n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.loadOrgDevices(),this.loadDevices()}},{key:"loadOrgDevices",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/orgDevices").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({rowData:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadDevices",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/devices").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({deviceList:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"onCreateOrgDevice",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c,d,u,m,p,h,g=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.deviceType,n=t.deviceId,s=t.deviceDescription,i=t.deviceModel,o=t.deviceCode,r=t.deviceLocation,c=t.deviceIP,d=t.deviceCredentials,u=t.deviceConnectionType,m=t.deviceStatus,this.setState({isLoading:!0}),e.next=7,f.a.post("https://ncm-heroku.herokuapp.com/api/v1/orgDevices").send({deviceType:a,deviceId:n,deviceDescription:s,deviceModel:i,deviceCode:o,deviceLocation:r,deviceIP:c,deviceCredentials:d,deviceConnectionType:u,deviceStatus:m});case 7:p=e.sent,(h=p.body).success?this.setState({deviceType:"",deviceId:null,deviceDescription:"",deviceModel:"",deviceCode:"",deviceLocation:"",deviceIP:"",deviceCredentials:"",deviceConnectionType:"",deviceStatus:"",isLoading:!1,isPopupOpen:!1},(function(){g.loadOrgDevices(),Object(T.confirmAlert)({title:"OrgDevices",message:h.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"OrgDevices",message:h.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onEditOrgDevice",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c,d,u,m,p,h,g,b,v=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.selectedRow,n=t.id,s=t.deviceType,i=t.deviceId,o=t.deviceDescription,r=t.deviceModel,c=t.deviceCode,d=t.deviceLocation,u=t.deviceIP,m=t.deviceCredentials,p=t.deviceConnectionType,h=t.deviceStatus,this.setState({isLoading:!0}),e.next=7,f.a.patch("https://ncm-heroku.herokuapp.com/api/v1/orgDevices/id/"+a.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token"))).send({id:n,deviceType:s,deviceId:i,deviceDescription:o,deviceModel:r,deviceCode:c,deviceLocation:d,deviceIP:u,deviceCredentials:m,deviceConnectionType:p,deviceStatus:h});case 7:g=e.sent,(b=g.body).success?this.setState({isLoading:!1,isPopupOpen:!1,selectedRow:null},(function(){v.loadOrgDevices(),Object(T.confirmAlert)({title:"OrgDevices",message:b.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"OrgDevices",message:b.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onAddEditOrgDevice",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,n=a.selectedRow,s=a.deviceList,n||"edit"!=t){e.next=5;break}return e.abrupt("return");case 5:"edit"==t?this.setState({isPopupOpen:!0,actionType:"Update OrgDevice",id:n.id,deviceType:n.deviceType,deviceId:n.deviceId,deviceDescription:n.deviceDescription,deviceModel:n.deviceModel,deviceCode:n.deviceCode,deviceLocation:n.deviceLocation,deviceIP:n.deviceIP,deviceCredentials:n.deviceCredentials,deviceConnectionType:n.deviceConnectionType,deviceStatus:n.deviceStatus,selectedDeviceId:{id:n.deviceId,deviceModel:s.find((function(e){return e.id===n.deviceId})).deviceModel}}):this.setState({isPopupOpen:!0,actionType:"Add OrgDevice",id:null,deviceType:"",deviceId:null,deviceDescription:"",deviceModel:"",deviceCode:"",deviceLocation:"",deviceIP:"",deviceCredentials:"",deviceConnectionType:"",deviceStatus:""});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDeleteOrgDevice",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.selectedRow,Object(T.confirmAlert)({title:"Delete OrgDevice",message:"Are you sure you wants to delete the record : "+t.deviceCode+"?",buttons:[{label:"Confirm",onClick:function(){a.deleteOrgDevice()}},{label:"Cancel",onClick:function(){}}],closeOnCllickOutside:!1,closeOnEscape:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteOrgDevice",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.selectedRow,this.setState({isLoading:!0}),e.next=4,f.a.del("https://ncm-heroku.herokuapp.com/api/v1/orgdevices/id/"+t.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:a=e.sent,(n=a.body).success?this.setState({id:null,deviceType:"",deviceId:null,deviceDescription:"",deviceModel:"",deviceCode:"",deviceLocation:"",deviceIP:"",deviceCredentials:"",deviceConnectionType:"",deviceStatus:"",selectedRow:null},(function(){s.loadOrgDevices(),Object(T.confirmAlert)({title:"OrgDevice",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"OrgDevice",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleImageUploadChange",value:function(e){this.setState({gameBoard:URL.createObjectURL(e.target.files[0])})}},{key:"onRowDoubleClicked",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.gridApi.getSelectedRows(),this.setState({selectedRow:a&&a.length>0?a[0]:null},(function(){n.onAddEditOrgDevice(t)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=(t.orgDeviceList,t.deviceList),n=t.isLoading,i=t.isPopupOpen;return this.validator.purgeFields(),s.a.createElement(j.a,{active:n,spinner:!0},s.a.createElement("div",{className:"card m-10"},s.a.createElement("section",{className:"content"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{style:{width:"100%",display:i?"none":"block"}},s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-danger float-right",onClick:this.onDeleteOrgDevice},"Delete Record"),s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-info float-right  mx-2",onClick:this.onAddEditOrgDevice.bind(this,"edit")},"Update Record"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right ",onClick:this.onAddEditOrgDevice.bind(this,"add")},"Add New")),s.a.createElement("div",{style:{width:"100%",display:i?"block":"none"}},s.a.createElement("strong",{className:"text-center"},this.state.actionType," "),s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearOrgDevice()}))}},"Back")),s.a.createElement("div",{className:"card-body table-responsive p-0",style:{display:i?"none":"block"}},s.a.createElement("div",{style:{width:"100%",height:"550px",marginTop:"10px"}},s.a.createElement("div",{id:"RoleNameGrid",style:{height:"550px",width:"100%"},className:"ag-theme-alpine"},s.a.createElement(U.AgGridReact,{modules:this.state.modules,columnDefs:this.state.columnDefs,defaultColDef:this.state.defaultColDef,enableCellTextSelection:!0,rowSelection:this.state.rowSelection,onGridReady:this.onGridReady,rowData:this.state.rowData,pagination:!0,paginationPageSize:this.state.paginationPageSize,onSelectionChanged:this.onSelectionChanged.bind(this),rowDeselection:!0,onRowDoubleClicked:function(){return e.onRowDoubleClicked("edit")}})))))))),s.a.createElement("section",{className:"content",style:{display:i?"block":"none"}},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"deviceType"},"Device Type "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"deviceType",value:this.state.deviceType,className:"form-control"}),this.validator.message("deviceType",this.state.deviceType,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"deviceId"},"Device Id "),s.a.createElement(Z.a,{id:"deviceId",value:this.state.selectedDeviceId,onChange:this.onChangeDevice,options:a,getOptionLabel:function(e){return e.deviceModel},getOptionValue:function(e){return e.id}}),this.validator.message("deviceId",this.state.deviceId,"required",{className:"text-danger small-font14"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"deviceModel"},"Device Model "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"deviceModel",value:this.state.deviceModel,className:"form-control"}),this.validator.message("deviceModel",this.state.deviceModel,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"deviceCode"},"Device Code "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"deviceCode",value:this.state.deviceCode,className:"form-control"}),this.validator.message("deviceCode",this.state.deviceCode,"required",{className:"text-danger small-font14"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"deviceLocation"},"Device Location "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"deviceLocation",value:this.state.deviceLocation,className:"form-control"}),this.validator.message("deviceLocation",this.state.deviceLocation,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"deviceIP"},"Device IP "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"deviceIP",value:this.state.deviceIP,className:"form-control"}),this.validator.message("deviceIP",this.state.deviceIP,"required",{className:"text-danger small-font14"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"deviceCredentials"},"Device Credentials "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"deviceCredentials",value:this.state.deviceCredentials,className:"form-control"}),this.validator.message("deviceCredentials",this.state.deviceCredentials,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"deviceConnectionType"},"Connection Type "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"deviceConnectionType",value:this.state.deviceConnectionType,className:"form-control"}),this.validator.message("deviceConnectionType",this.state.deviceConnectionType,"required",{className:"text-danger small-font14"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"deviceDescription"},"Device Description "),s.a.createElement("textarea",{onChange:this.onTextChange,id:"deviceDescription",value:this.state.deviceDescription,className:"form-control"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"deviceStatus"},"Device Status "),s.a.createElement("div",{className:"custom-control custom-switch"},s.a.createElement("input",{type:"checkbox",className:"custom-control-input",onChange:this.onCheckboxChange,id:"deviceStatus",value:this.state.deviceStatus,checked:1==this.state.deviceStatus}),s.a.createElement("label",{className:"custom-control-label",for:"deviceStatus"})))))),s.a.createElement("div",{style:{padding:"0 15px 15px",display:"inline-block",width:"100%"}},s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearOrgDevice()}))}},"Cancel"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right  mx-1",onClick:"Update OrgDevice"==this.state.actionType?this.onEditOrgDevice:this.onCreateOrgDevice},"Submit")))))}}]),a}(n.Component),we=Object(r.b)((function(e){return{tabSettings:e.userReducer.tabSettings}}),(function(e){return{updateTabNavigation:function(t){e(x(t))}}}))(Se),Re=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onGridReady=function(e){n.gridApi=e.api,n.gridColumnApi=e.columnApi},n.onBtStartEditing=function(e,t,a){n.gridApi.setFocusedCell(0,"lastName",a),n.gridApi.startEditingCell({rowIndex:0,colKey:"lastName",rowPinned:a,keyPress:e,charPress:t})},n.clearReport=function(){n.setState({selectedRow:null,isPopupOpen:!1,organisationId:"",isDeleted:!1}),n.validator.hideMessages()},n.onTextChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.value))},n.onClickTab=function(e){n.props.updateTabNavigation({TabName:e})},n.onChangeOrg=function(e,t){"select-option"==t.action&&n.setState({selectedOrg:e,orgId:e.id})},n.handleChangeUsers=function(e){n.setState({selectedUser:e,userId:e.id})},n.onEditorReportChange=function(e){n.setState({editorReport:e,description:e&&_()(Object(M.convertToRaw)(e.getCurrentContent()))})},n.onCountryChange=function(e,t){"select-option"==t.action&&n.setState({selectedCountry:e})},n.onSelectionChanged=function(){var e=n.gridApi.getSelectedRows();n.setState({selectedRow:e&&e.length>0?e[0]:null})},n.state={isLoading:!1,selectedSequence:null,modules:U.AllModules,columnDefs:[{field:"id",headerName:"Report Id"},{field:"reportName",headerName:"Report Name"},{field:"orgName",headerName:"Organization"},{field:"userId",headerName:"User Id"},{field:"reportConfig",headerName:"Report Config"}],defaultColDef:{flex:1,minWidth:100,sortable:!0,resizable:!0,autoHeight:!0,filter:!0},getRowHeight:function(e){return 18*(Math.floor(e.data.description.length/50)+1)},rowSelection:"single",selectedRow:null,paginationPageSize:10,rowData:[],editorReport:null,userRoleList:[],selectedUserRole:null,recentlyCreatedOrgUserId:"",isPopupOpen:!1,actionType:null,reportName:"",orgId:null,userId:null,reportConfig:"",selectedCountry:null,countryList:[],selectedOrg:null},n.onCreateReport=n.onCreateReport.bind(Object(K.a)(n)),n.onAddEditReport=n.onAddEditReport.bind(Object(K.a)(n)),n.onDeleteReport=n.onDeleteReport.bind(Object(K.a)(n)),n.onEditReport=n.onEditReport.bind(Object(K.a)(n)),n.validator=new B.a({autoForceUpdate:Object(K.a)(n)}),n.apiBase="https://ncm-heroku.herokuapp.com/api/v1//api",n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.loadReports(),this.loadOrganization(),this.loadUsers()}},{key:"loadReports",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/reports").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({rowData:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadOrganization",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/organizations").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({orgList:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadUsers",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/users").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({userList:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"onCreateReport",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.reportName,n=t.orgId,s=t.userId,i=t.reportConfig,this.setState({isLoading:!0}),e.next=4,f.a.post("https://ncm-heroku.herokuapp.com/api/v1/reports").send({reportName:a,orgId:n,userId:s,reportConfig:i});case 4:o=e.sent,(r=o.body).success?this.setState({reportName:"",orgId:null,userId:null,reportConfig:"",isLoading:!1,isPopupOpen:!1},(function(){c.loadReports(),Object(T.confirmAlert)({title:"Reports",message:r.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"Reports",message:r.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onEditReport",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c,d,u=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.selectedRow,n=t.id,s=t.reportName,i=t.orgId,o=t.userId,r=t.reportConfig,this.setState({isLoading:!0}),e.next=4,f.a.patch("https://ncm-heroku.herokuapp.com/api/v1/reports/id/"+a.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token"))).send({id:n,reportName:s,orgId:i,userId:o,reportConfig:r});case 4:c=e.sent,(d=c.body).success?this.setState({isLoading:!1,isPopupOpen:!1,selectedRow:null},(function(){u.loadReports(),Object(T.confirmAlert)({title:"Reports",message:d.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"Reports",message:d.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onAddEditReport",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,n=a.selectedRow,s=a.orgList,i=a.userList,n||"edit"!=t){e.next=5;break}return e.abrupt("return");case 5:"edit"==t?this.setState({isPopupOpen:!0,actionType:"Update Report",id:n.id,reportName:n.reportName,orgId:n.orgId,userId:n.userId,reportConfig:n.reportConfig,selectedOrg:{id:n.orgId,orgName:s.find((function(e){return e.id===n.orgId})).orgName},selectedUser:{id:n.userId,usersFirstName:i.find((function(e){return e.id===n.userId})).usersFirstName}}):this.setState({isPopupOpen:!0,actionType:"Add Report",id:null,reportName:"",orgId:null,userId:null,reportConfig:""});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDeleteReport",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.selectedRow,Object(T.confirmAlert)({title:"Delete Report",message:"Are you sure you wants to delete the record : "+t.reportName+"?",buttons:[{label:"Confirm",onClick:function(){a.deleteReport()}},{label:"Cancel",onClick:function(){}}],closeOnCllickOutside:!1,closeOnEscape:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteReport",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.selectedRow,this.setState({isLoading:!0}),e.next=4,f.a.del("https://ncm-heroku.herokuapp.com/api/v1/reports/id/"+t.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:a=e.sent,(n=a.body).success?this.setState({id:null,reportName:"",orgId:null,userId:null,reportConfig:"",selectedRow:null},(function(){s.loadReports(),Object(T.confirmAlert)({title:"Report",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"Report",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleImageUploadChange",value:function(e){this.setState({gameBoard:URL.createObjectURL(e.target.files[0])})}},{key:"onRowDoubleClicked",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.gridApi.getSelectedRows(),this.setState({selectedRow:a&&a.length>0?a[0]:null},(function(){n.onAddEditReport(t)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.isPopupOpen;return this.validator.purgeFields(),s.a.createElement(j.a,{active:a,spinner:!0},s.a.createElement("div",{className:"card m-10"},s.a.createElement("section",{className:"content"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{style:{width:"100%",display:n?"none":"block"}},s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-danger float-right",onClick:this.onDeleteReport},"Delete Record"),s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-info float-right  mx-2",onClick:this.onAddEditReport.bind(this,"edit")},"Update Record"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right ",onClick:this.onAddEditReport.bind(this,"add")},"Add New")),s.a.createElement("div",{style:{width:"100%",display:n?"block":"none"}},s.a.createElement("strong",{className:"text-center"},this.state.actionType," "),s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearReport()}))}},"Back")),s.a.createElement("div",{className:"card-body table-responsive p-0",style:{display:n?"none":"block"}},s.a.createElement("div",{style:{width:"100%",height:"550px",marginTop:"10px"}},s.a.createElement("div",{id:"RoleNameGrid",style:{height:"550px",width:"100%"},className:"ag-theme-alpine"},s.a.createElement(U.AgGridReact,{modules:this.state.modules,columnDefs:this.state.columnDefs,defaultColDef:this.state.defaultColDef,enableCellTextSelection:!0,rowSelection:this.state.rowSelection,onGridReady:this.onGridReady,rowData:this.state.rowData,pagination:!0,paginationPageSize:this.state.paginationPageSize,onSelectionChanged:this.onSelectionChanged.bind(this),rowDeselection:!0,onRowDoubleClicked:function(){return e.onRowDoubleClicked("edit")}})))))))),s.a.createElement("section",{className:"content",style:{display:n?"block":"none"}},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"reportName"},"Report Name "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"reportName",value:this.state.reportName,className:"form-control"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"orgId"},"Organization "),s.a.createElement(Z.a,{id:"org",value:this.state.selectedOrg,onChange:this.onChangeOrg,options:this.state.orgList,getOptionLabel:function(e){return e.orgName},getOptionValue:function(e){return e.id}})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"userId"},"User Id "),s.a.createElement(Z.a,{id:"user",value:this.state.selectedUser,onChange:this.handleChangeUsers,options:this.state.userList,getOptionLabel:function(e){return e.usersFirstName},getOptionValue:function(e){return e.id}}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"reportConfig"},"Report Config "),s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"reportConfig",value:this.state.reportConfig,className:"form-control"}))))),s.a.createElement("div",{style:{padding:"0 15px 15px",display:"inline-block",width:"100%"}},s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearReport()}))}},"Cancel"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right  mx-1",onClick:"Update Report"==this.state.actionType?this.onEditReport:this.onCreateReport},"Submit")))))}}]),a}(n.Component),xe=Object(r.b)((function(e){return{tabSettings:e.userReducer.tabSettings}}),(function(e){return{updateTabNavigation:function(t){e(x(t))}}}))(Re),De=a(72),Le=a.n(De),je=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onGridReady=function(e){n.gridApi=e.api,n.gridColumnApi=e.columnApi},n.onCheckboxChange=function(e,t,a,s){var i=n.state.rowData,o=n.props.tabSettings;n.setState(Object(u.a)({id:e.id,roleId:o.roleId,roleEntityId:e.roleEntityId,entityRead:i[t].entityRead,entityAdd:i[t].entityAdd,entityUpdate:i[t].entityUpdate,entityPrint:i[t].entityPrint,entityExport:i[t].entityExport,entityDelete:i[t].entityDelete},a,s?1:0),(function(){e.id?n.onEditRoleDetail():n.onCreateRoleDetail()}))},n.onClickTab=function(e){n.props.updateTabNavigation({TabName:e})},n.state={isLoading:!1,roleDetailList:[],rowSelection:"single",selectedRow:null,paginationPageSize:10,rowData:[],editorRoleDetail:null,userRoleList:[],selectedUserRole:null,recentlyCreatedOrgUserId:"",isPopupOpen:!1,actionType:null,roleEntityId:null,roleId:null,entityRead:"",entityAdd:"",entityUpdate:"",entityPrint:"",entityExport:"",entityDelete:"",selectedRoleEntity:null,roleEntityList:[]},n.onCreateRoleDetail=n.onCreateRoleDetail.bind(Object(K.a)(n)),n.onEditRoleDetail=n.onEditRoleDetail.bind(Object(K.a)(n)),n.apiBase="https://ncm-heroku.herokuapp.com/api/v1//api",n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.tabSettings.roleId?this.loadRoleDetails():this.props.updateTabNavigation({TabName:"Roles"})}},{key:"loadRoleDetails",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.tabSettings,this.setState({isLoading:!0}),e.prev=2,e.next=5,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/roledetails/id/"+t.roleId).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 5:a=e.sent,(n=a.body).success?this.setState({rowData:n.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),this.setState({isLoading:!1}),alert("Error...");case 14:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"onCreateRoleDetail",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c,d,u,m,p=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.roleId,n=t.roleEntityId,s=t.entityRead,i=t.entityAdd,o=t.entityUpdate,r=t.entityPrint,c=t.entityExport,d=t.entityDelete,this.setState({isLoading:!0}),e.next=4,f.a.post("https://ncm-heroku.herokuapp.com/api/v1/roledetails").send({roleId:a,roleEntityId:n,entityRead:s,entityAdd:i,entityUpdate:o,entityPrint:r,entityExport:c,entityDelete:d});case 4:u=e.sent,(m=u.body).success?this.setState({roleEntityId:null,entityRead:"",entityAdd:"",entityUpdate:"",entityPrint:"",entityExport:"",entityDelete:"",isLoading:!1,isPopupOpen:!1},(function(){p.loadRoleDetails()})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"RoleDetails",message:m.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onEditRoleDetail",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c,d,u,m,p,h=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.id,n=t.roleId,s=t.roleEntityId,i=t.entityRead,o=t.entityAdd,r=t.entityUpdate,c=t.entityPrint,d=t.entityExport,u=t.entityDelete,this.setState({isLoading:!0}),e.next=4,f.a.patch("https://ncm-heroku.herokuapp.com/api/v1/roledetails/id/"+a).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token"))).send({id:a,roleId:n,roleEntityId:s,entityRead:i,entityAdd:o,entityUpdate:r,entityPrint:c,entityExport:d,entityDelete:u});case 4:m=e.sent,(p=m.body).success?this.setState({isLoading:!1,isPopupOpen:!1,selectedRow:null},(function(){h.loadRoleDetails()})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"RoleDetails",message:p.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=(t.roleDetailList,t.isLoading),n=(t.isPopupOpen,this.props.tabSettings);return s.a.createElement(j.a,{active:a,spinner:!0},s.a.createElement("div",{className:"card"},s.a.createElement("section",{className:"content"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row card-header"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"card-body"},s.a.createElement("strong",{className:"text-center"},"Manage Role Permissions"," "),s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right",onClick:function(){return e.props.updateTabNavigation({TabName:"Roles"})}},"Back")))),s.a.createElement("div",{className:"row card-header"},s.a.createElement("div",{className:"col-md-2"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"entityDelete"},"Role Name "))),s.a.createElement("div",{className:"col-md-4"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{readOnly:!0,type:"text",value:n.roleName,className:"form-control"})))),s.a.createElement("div",{className:"row card-header"},s.a.createElement("div",{className:"col-md-4"},s.a.createElement("label",{htmlFor:"name"},"Entity Name")),s.a.createElement("div",{className:"col-md-1"},s.a.createElement("label",{htmlFor:"add"},"Add ")),s.a.createElement("div",{className:"col-md-1"},s.a.createElement("label",{htmlFor:"view"},"View")),s.a.createElement("div",{className:"col-md-1"},s.a.createElement("label",{htmlFor:"update"},"Update")),s.a.createElement("div",{className:"col-md-1"},s.a.createElement("label",{htmlFor:"delete"},"Delete")),s.a.createElement("div",{className:"col-md-1"},s.a.createElement("label",{htmlFor:"print"},"Print")),s.a.createElement("div",{className:"col-md-1"},s.a.createElement("label",{htmlFor:"export"},"Export"))),this.state.rowData.map((function(t,a){return console.log("value>>>",t),s.a.createElement("div",{className:"row card-header"},s.a.createElement("div",{className:"col-md-4"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"name"},t.entityName)),s.a.createElement("div",{className:"col-md-1"},s.a.createElement(Le.a,{value:t.entityAdd,checked:1==t.entityAdd,onlabel:"ON",offlabel:"OFF",size:"sm",onChange:function(n){e.onCheckboxChange(t,a,"entityAdd",n)},id:t.entityName+"-entityAdd"})),s.a.createElement("div",{className:"col-md-1"},s.a.createElement(Le.a,{value:t.entityRead,checked:1==t.entityRead,onlabel:"ON",offlabel:"OFF",size:"sm",onChange:function(n){e.onCheckboxChange(t,a,"entityRead",n)},id:t.entityName+"-entityRead"})),s.a.createElement("div",{className:"col-md-1"},s.a.createElement(Le.a,{value:t.entityUpdate,checked:1==t.entityUpdate,onlabel:"ON",offlabel:"OFF",size:"sm",onChange:function(n){e.onCheckboxChange(t,a,"entityUpdate",n)},id:t.entityName+"-entityUpdate"})),s.a.createElement("div",{className:"col-md-1"},s.a.createElement(Le.a,{value:t.entityDelete,checked:1==t.entityDelete,onlabel:"ON",offlabel:"OFF",size:"sm",onChange:function(n){e.onCheckboxChange(t,a,"entityDelete",n)},id:t.entityName+"-entityDelete"})),s.a.createElement("div",{className:"col-md-1"},s.a.createElement(Le.a,{value:t.entityPrint,checked:1==t.entityPrint,onlabel:"ON",offlabel:"OFF",size:"sm",onChange:function(n){e.onCheckboxChange(t,a,"entityPrint",n)},id:t.entityName+"-entityPrint"})),s.a.createElement("div",{className:"col-md-1"},s.a.createElement(Le.a,{value:t.entityExport,checked:1==t.entityExport,onlabel:"ON",offlabel:"OFF",size:"sm",onChange:function(n){e.onCheckboxChange(t,a,"entityExport",n)},id:t.entityName+"-entityExport"})))}))))))}}]),a}(n.Component),Te=Object(r.b)((function(e){return{tabSettings:e.userReducer.tabSettings,roleDetailList:e.userReducer.playerList}}),(function(e){return{updateTabNavigation:function(t){e(x(t))}}}))(je),Ae=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onGridReady=function(e){n.gridApi=e.api,n.gridColumnApi=e.columnApi},n.onBtStartEditing=function(e,t,a){n.gridApi.setFocusedCell(0,"lastName",a),n.gridApi.startEditingCell({rowIndex:0,colKey:"lastName",rowPinned:a,keyPress:e,charPress:t})},n.clearUserRolesMapping=function(){n.setState({selectedRow:null,isPopupOpen:!1,organisationId:"",isDeleted:!1}),n.validator.hideMessages()},n.onTextChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.value))},n.onClickTab=function(e){n.props.updateTabNavigation({TabName:e})},n.handleChangeUsers=function(e){n.setState({selectedUser:e,userId:e.id})},n.handleChangeRoles=function(e){n.setState({selectedRole:e,roleId:e.id})},n.handleChangeOrg=function(e){n.setState({selectedOrg:e,orgId:e.id})},n.onEditorUserRolesMappingChange=function(e){n.setState({editorUserRolesMapping:e,description:e&&_()(Object(M.convertToRaw)(e.getCurrentContent()))})},n.onSelectionChanged=function(){var e=n.gridApi.getSelectedRows();n.setState({selectedRow:e&&e.length>0?e[0]:null})},n.state={isLoading:!1,UserRolesMappingList:[],selectedSequence:null,modules:U.AllModules,columnDefs:[{field:"id",headerName:"RolesMapping Id"},{field:"userId",headerName:"User Id"},{field:"roleId",headerName:"RoleId"},{field:"orgName",headerName:"Organization"}],defaultColDef:{flex:1,minWidth:100,sortable:!0,resizable:!0,autoHeight:!0,filter:!0},getRowHeight:function(e){return 18*(Math.floor(e.data.description.length/50)+1)},rowSelection:"single",selectedRow:null,paginationPageSize:10,editorUserRolesMapping:null,rowData:[],userRoleList:[],userList:[],orgList:[],selectedOrg:null,selectedRole:null,selectedUser:null,recentlyCreatedOrgUserId:"",isPopupOpen:!1,actionType:null,userId:null,roleId:null,orgId:null,selectedCountry:null},n.onCreateUserRolesMapping=n.onCreateUserRolesMapping.bind(Object(K.a)(n)),n.onAddEditUserRolesMapping=n.onAddEditUserRolesMapping.bind(Object(K.a)(n)),n.onDeleteUserRolesMapping=n.onDeleteUserRolesMapping.bind(Object(K.a)(n)),n.onEditUserRolesMapping=n.onEditUserRolesMapping.bind(Object(K.a)(n)),n.validator=new B.a({autoForceUpdate:Object(K.a)(n)}),n.apiBase="https://ncm-heroku.herokuapp.com/api/v1//api",n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.loadUserRolesMapping(),this.loadUsers(),this.loadUserRoles(),this.loadOrganizations()}},{key:"loadUserRolesMapping",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/userrolesmapping").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({rowData:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadUsers",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/users").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({userList:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadUserRoles",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/roles").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({userRoleList:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadOrganizations",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.get("https://ncm-heroku.herokuapp.com/api/v1/organizations").set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:t=e.sent,(a=t.body).success?this.setState({orgList:a.ResponsePacket,isLoading:!1}):this.setState({isLoading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({isLoading:!1}),alert("Error...");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"onCreateUserRolesMapping",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.userId,n=t.roleId,s=t.orgId,this.setState({isLoading:!0}),e.next=7,f.a.post("https://ncm-heroku.herokuapp.com/api/v1/userrolesmapping").send({userId:a,roleId:n,orgId:s});case 7:i=e.sent,(o=i.body).success?this.setState({userId:null,roleId:null,orgId:null,isLoading:!1,isPopupOpen:!1},(function(){r.loadUserRolesMapping(),Object(T.confirmAlert)({title:"UserRolesMapping",message:o.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"UserRolesMapping",message:o.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onEditUserRolesMapping",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s,i,o,r,c,d=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return t=this.state,a=t.selectedRow,n=t.id,s=t.userId,i=t.roleId,o=t.orgId,this.setState({isLoading:!0}),e.next=7,f.a.patch("https://ncm-heroku.herokuapp.com/api/v1/userrolesmapping/id/"+a.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token"))).send({id:n,userId:s,roleId:i,orgId:o});case 7:r=e.sent,(c=r.body).success?this.setState({isLoading:!1,isPopupOpen:!1,selectedRow:null},(function(){d.loadUserRolesMapping(),Object(T.confirmAlert)({title:"UserRolesMapping",message:c.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"UserRolesMapping",message:c.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onAddEditUserRolesMapping",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n,s,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,n=a.selectedRow,s=a.userList,i=a.userRoleList,o=a.orgList,n||"edit"!=t){e.next=5;break}return e.abrupt("return");case 5:"edit"==t?this.setState({isPopupOpen:!0,actionType:"Update UserRolesMapping",id:n.id,userId:n.userId,roleId:n.roleId,orgId:n.orgId,selectedUser:{id:n.userId,usersFirstName:s.find((function(e){return e.id===n.userId})).usersFirstName},selectedRole:{id:n.roleId,roleName:i.find((function(e){return e.id===n.roleId})).roleName},selectedOrg:{id:n.orgId,orgName:o.find((function(e){return e.id===n.orgId})).orgName}}):this.setState({isPopupOpen:!0,actionType:"Add UserRolesMapping",id:null,userId:null,roleId:null,orgId:null});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onDeleteUserRolesMapping",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state.selectedRow,Object(T.confirmAlert)({title:"Delete UserRolesMapping",message:"Are you sure you wants to delete the record : "+t.id+"?",buttons:[{label:"Confirm",onClick:function(){a.deleteUserRolesMapping()}},{label:"Cancel",onClick:function(){}}],closeOnCllickOutside:!1,closeOnEscape:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteUserRolesMapping",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n,s=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.selectedRow,this.setState({isLoading:!0}),e.next=4,f.a.del("https://ncm-heroku.herokuapp.com/api/v1/userrolesmapping/id/"+t.id).set("authorization","Bearer ".concat(localStorage.getItem("admin_access_token")));case 4:a=e.sent,(n=a.body).success?this.setState({id:null,userId:null,roleId:null,orgId:null},(function(){s.loadUserRolesMapping(),Object(T.confirmAlert)({title:"UserRolesMapping",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})})):this.setState({isLoading:!1},(function(){Object(T.confirmAlert)({title:"UserRolesMapping",message:n.message,buttons:[{label:"Ok",onClick:function(){}}],closeOnClickOutside:!1,closeOnEscape:!1})}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleImageUploadChange",value:function(e){this.setState({gameBoard:URL.createObjectURL(e.target.files[0])})}},{key:"onRowDoubleClicked",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.gridApi.getSelectedRows(),this.setState({selectedRow:a&&a.length>0?a[0]:null},(function(){n.onAddEditUserRolesMapping(t)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=(t.UserRolesMappingList,t.isLoading),n=t.isPopupOpen;return this.validator.purgeFields(),s.a.createElement(j.a,{active:a,spinner:!0},s.a.createElement("div",{className:"card m-10"},s.a.createElement("section",{className:"content"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{style:{width:"100%",display:n?"none":"block"}},s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-danger float-right",onClick:this.onDeleteUserRolesMapping},"Delete Record"),s.a.createElement("button",{disabled:!this.state.selectedRow,type:"button",className:"btn btn-info float-right  mx-2",onClick:this.onAddEditUserRolesMapping.bind(this,"edit")},"Update Record"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right ",onClick:this.onAddEditUserRolesMapping.bind(this,"add")},"Add New")),s.a.createElement("div",{style:{width:"100%",display:n?"block":"none"}},s.a.createElement("strong",{className:"text-center"},this.state.actionType," "),s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearUserRolesMapping()}))}},"Back")),s.a.createElement("div",{className:"card-body table-responsive p-0",style:{display:n?"none":"block"}},s.a.createElement("div",{style:{width:"100%",height:"550px",marginTop:"10px"}},s.a.createElement("div",{id:"RoleNameGrid",style:{height:"550px",width:"100%"},className:"ag-theme-alpine"},s.a.createElement(U.AgGridReact,{modules:this.state.modules,columnDefs:this.state.columnDefs,defaultColDef:this.state.defaultColDef,enableCellTextSelection:!0,rowSelection:this.state.rowSelection,onGridReady:this.onGridReady,rowData:this.state.rowData,pagination:!0,paginationPageSize:this.state.paginationPageSize,onSelectionChanged:this.onSelectionChanged.bind(this),rowDeselection:!0,onRowDoubleClicked:function(){return e.onRowDoubleClicked("edit")}})))))))),s.a.createElement("section",{className:"content",style:{display:n?"block":"none"}},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"userId"},"User Id "),s.a.createElement(Z.a,{id:"user",value:this.state.selectedUser,onChange:this.handleChangeUsers,options:this.state.userList,getOptionLabel:function(e){return e.usersFirstName},getOptionValue:function(e){return e.id}}),this.validator.message("selectedUser",this.state.selectedUser,"required",{className:"text-danger small-font14"}))),s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"roleId"},"Role Id "),s.a.createElement(Z.a,{id:"roleName",value:this.state.selectedRole,onChange:this.handleChangeRoles,options:this.state.userRoleList,getOptionLabel:function(e){return e.roleName},getOptionValue:function(e){return e.id}}),this.validator.message("selectedRole",this.state.selectedRole,"required",{className:"text-danger small-font14"})))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{style:{fontWeight:200},htmlFor:"orgId"},"Org Id "),s.a.createElement(Z.a,{id:"org",value:this.state.selectedOrg,onChange:this.handleChangeOrg,options:this.state.orgList,getOptionLabel:function(e){return e.orgName},getOptionValue:function(e){return e.id}}),this.validator.message("selectedOrg",this.state.selectedOrg,"required",{className:"text-danger small-font14"}))))),s.a.createElement("div",{style:{padding:"0 15px 15px",display:"inline-block",width:"100%"}},s.a.createElement("button",{type:"button",className:"btn btn-secondary float-right mx-1",onClick:function(){e.setState({isPopupOpen:!1},(function(){e.clearUserRolesMapping()}))}},"Cancel"),s.a.createElement("button",{type:"button",className:"btn btn-info float-right  mx-1",onClick:"Update UserRolesMapping"==this.state.actionType?this.onEditUserRolesMapping:this.onCreateUserRolesMapping},"Submit")))))}}]),a}(n.Component),Ie=Object(r.b)((function(e){return{tabSettings:e.userReducer.tabSettings}}),(function(e){return{updateTabNavigation:function(t){e(x(t))}}}))(Ae),Pe=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).logout=function(){localStorage.setItem("adminLogin",!1),window.location.reload()},e.onClickTab=function(t){e.props.updateTabNavigation({TabName:t})},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.tabSettings,a=(e.currentUserFromStore,e.tabNames);return s.a.createElement("div",{className:"wrapper"},s.a.createElement("nav",{className:"main-header navbar navbar-expand navbar-white navbar-light"},"Dashboard"!=t.TabName?s.a.createElement("ul",{className:"navbar-nav"},s.a.createElement("li",{className:"nav-item dropdown"},s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link","data-widget":"pushmenu",role:"button"},s.a.createElement("i",{className:"fas fa-bars"})))),s.a.createElement("li",{className:"nav-item dropdown"},s.a.createElement("a",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"All"),s.a.createElement("div",{className:"dropdown-menu overflow-hidden","aria-labelledby":"navbarDropdown"},s.a.createElement("a",{className:"nav-link",onClick:this.onClickTab.bind(this,a[0])},a[0]),s.a.createElement("a",{className:"nav-link",onClick:this.onClickTab.bind(this,a[1])},a[1]),s.a.createElement("a",{className:"nav-link",onClick:this.onClickTab.bind(this,a[2])},a[2]),s.a.createElement("a",{className:"nav-link",onClick:this.onClickTab.bind(this,a[3])},a[3]),s.a.createElement("a",{className:"nav-link",onClick:this.onClickTab.bind(this,a[4])},a[4]),s.a.createElement("a",{className:"nav-link",onClick:this.onClickTab.bind(this,a[5])},a[5]),s.a.createElement("a",{className:"nav-link",onClick:this.onClickTab.bind(this,a[6])},a[6]),s.a.createElement("a",{className:"nav-link",onClick:this.onClickTab.bind(this,a[7])},a[7]),s.a.createElement("a",{className:"nav-link",onClick:this.onClickTab.bind(this,a[8])},a[8]),s.a.createElement("a",{className:"nav-link",onClick:this.onClickTab.bind(this,a[9])},a[9]),s.a.createElement("a",{className:"nav-link",onClick:this.onClickTab.bind(this,a[10])},a[10]),s.a.createElement("a",{className:"nav-link",onClick:this.onClickTab.bind(this,a[11])},a[11]),s.a.createElement("a",{className:"nav-link",onClick:this.onClickTab.bind(this,a[12])},a[12]),s.a.createElement("a",{className:"nav-link",onClick:this.onClickTab.bind(this,a[13])},a[13]),s.a.createElement("a",{className:"nav-link",onClick:this.onClickTab.bind(this,a[14])},a[14]),s.a.createElement("a",{className:"nav-link",onClick:this.onClickTab.bind(this,a[15])},a[15]),s.a.createElement("a",{className:"nav-link",onClick:this.onClickTab.bind(this,a[16])},a[16]),s.a.createElement("a",{className:"nav-link",onClick:this.onClickTab.bind(this,a[17])},a[17]),s.a.createElement("a",{className:"nav-link",onClick:this.onClickTab.bind(this,a[18])},a[18]),s.a.createElement("a",{className:"nav-link",onClick:this.onClickTab.bind(this,a[19])},a[19]))),s.a.createElement("li",{className:"nav-item dropdown"},s.a.createElement("a",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Masters"),s.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},s.a.createElement("a",{className:"dropdown-item",onClick:this.onClickTab.bind(this,a[2])},a[2]),s.a.createElement("a",{className:"dropdown-item",onClick:this.onClickTab.bind(this,a[3])},a[3]),s.a.createElement("a",{className:"dropdown-item",onClick:this.onClickTab.bind(this,a[4])},a[4]),s.a.createElement("a",{className:"dropdown-item",onClick:this.onClickTab.bind(this,a[6])},a[6]),s.a.createElement("a",{className:"dropdown-item",onClick:this.onClickTab.bind(this,a[7])},a[7]),s.a.createElement("a",{className:"dropdown-item",onClick:this.onClickTab.bind(this,a[8])},a[8]),s.a.createElement("a",{className:"dropdown-item",onClick:this.onClickTab.bind(this,a[9])},a[9]))),s.a.createElement("li",{className:"nav-item dropdown"},s.a.createElement("a",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Job"),s.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},s.a.createElement("a",{className:"dropdown-item",onClick:this.onClickTab.bind(this,a[12])},a[12]),s.a.createElement("a",{className:"dropdown-item",onClick:this.onClickTab.bind(this,a[13])},a[13]))),s.a.createElement("li",{className:"nav-item dropdown"},s.a.createElement("a",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Devices"),s.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},s.a.createElement("a",{className:"dropdown-item",onClick:this.onClickTab.bind(this,a[5])},a[5]),s.a.createElement("a",{className:"dropdown-item",onClick:this.onClickTab.bind(this,a[11])},a[11]))),s.a.createElement("li",{className:"nav-item dropdown"},s.a.createElement("a",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Reports"),s.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},s.a.createElement("a",{className:"dropdown-item",onClick:this.onClickTab.bind(this,a[15])},a[15]))),s.a.createElement("li",{className:"nav-item dropdown"},s.a.createElement("a",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"User"),s.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},s.a.createElement("a",{className:"dropdown-item",onClick:this.onClickTab.bind(this,a[1])},a[1]),s.a.createElement("a",{className:"dropdown-item",onClick:this.onClickTab.bind(this,a[6])},a[6]),s.a.createElement("a",{className:"dropdown-item",onClick:this.onClickTab.bind(this,a[7])},a[7]),s.a.createElement("a",{className:"dropdown-item",onClick:this.onClickTab.bind(this,a[16])},a[16]),s.a.createElement("a",{className:"dropdown-item",onClick:this.onClickTab.bind(this,a[17])},a[17]))),s.a.createElement("li",{className:"nav-item dropdown"},s.a.createElement("a",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Settings"),s.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},s.a.createElement("a",{className:"dropdown-item",onClick:this.onClickTab.bind(this,a[18])},a[18])))):s.a.createElement("ul",{className:"navbar-nav"},s.a.createElement("li",{className:"nav-item dropdown"},s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link","data-widget":"pushmenu",role:"button"},s.a.createElement("i",{className:"fas fa-bars"}))))),s.a.createElement("ul",{className:"navbar-nav ml-auto"},s.a.createElement("li",{className:"nav-item dropdown"},s.a.createElement("div",{className:"dropdown-menu dropdown-menu-lg dropdown-menu-right"},s.a.createElement("a",{className:"dropdown-item"},s.a.createElement("div",{className:"media"},s.a.createElement("img",{src:"dist/img/user1-128x128.jpg",alt:"User Avatar",className:"img-size-50 mr-3 img-circle"}),s.a.createElement("div",{className:"media-body"},s.a.createElement("h3",{className:"dropdown-item-title"},"Brad Diesel",s.a.createElement("span",{className:"float-right text-sm text-danger"},s.a.createElement("i",{className:"fas fa-star"}))),s.a.createElement("p",{className:"text-sm"},"Call me whenever you can..."),s.a.createElement("p",{className:"text-sm text-muted"},s.a.createElement("i",{className:"far fa-clock mr-1"})," 4 Hours Ago")))),s.a.createElement("div",{className:"dropdown-divider"}),s.a.createElement("a",{className:"dropdown-item"},s.a.createElement("div",{className:"media"},s.a.createElement("img",{src:"dist/img/user8-128x128.jpg",alt:"User Avatar",className:"img-size-50 img-circle mr-3"}),s.a.createElement("div",{className:"media-body"},s.a.createElement("h3",{className:"dropdown-item-title"},"John Pierce",s.a.createElement("span",{className:"float-right text-sm text-muted"},s.a.createElement("i",{className:"fas fa-star"}))),s.a.createElement("p",{className:"text-sm"},"I got your message bro"),s.a.createElement("p",{className:"text-sm text-muted"},s.a.createElement("i",{className:"far fa-clock mr-1"})," 4 Hours Ago")))),s.a.createElement("div",{className:"dropdown-divider"}),s.a.createElement("a",{className:"dropdown-item"},s.a.createElement("div",{className:"media"},s.a.createElement("img",{src:"dist/img/user3-128x128.jpg",alt:"User Avatar",className:"img-size-50 img-circle mr-3"}),s.a.createElement("div",{className:"media-body"},s.a.createElement("h3",{className:"dropdown-item-title"},"Nora Silvester",s.a.createElement("span",{className:"float-right text-sm text-warning"},s.a.createElement("i",{className:"fas fa-star"}))),s.a.createElement("p",{className:"text-sm"},"The subject goes here"),s.a.createElement("p",{className:"text-sm text-muted"},s.a.createElement("i",{className:"far fa-clock mr-1"})," 4 Hours Ago")))),s.a.createElement("div",{className:"dropdown-divider"}),s.a.createElement("a",{className:"dropdown-item dropdown-footer"},"See All Messages"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link","data-widget":"control-sidebar","data-slide":"true",role:"button"},s.a.createElement("i",{className:"fas fa-th-large"}))))),s.a.createElement("aside",{className:"main-sidebar sidebar-dark-primary elevation-4"},s.a.createElement("a",{href:"index3.html",className:"brand-link"},s.a.createElement("img",{src:"dist/img/AdminLTELogo.png",alt:"AdminLTE Logo",className:"brand-image img-circle elevation-3",style:{opacity:.8}}),s.a.createElement("span",{className:"brand-text font-weight-light"},"AdminLTE 3")),s.a.createElement("div",{className:"sidebar"},s.a.createElement("div",{className:"user-panel mt-3 pb-3 mb-3 d-flex"},s.a.createElement("div",{className:"image"},s.a.createElement("img",{src:"dist/img/user2-160x160.jpg",className:"img-circle elevation-2",alt:"User Image"})),s.a.createElement("div",{className:"info"},s.a.createElement("a",{className:"d-block"},"Alexander Pierce"))))))}}]),a}(n.Component),Ue=Object(r.b)((function(e){return{currentUserFromStore:e.userReducer.currentUser,gameDataFromStore:e.gameReducer.gameData,tabSettings:e.userReducer.tabSettings,tabNames:e.userReducer.tabNames}}),(function(e){return{updateTabNavigation:function(t){e(x(t))}}}))(Pe),Me=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).onClickTab=function(t){e.props.updateTabNavigation({TabName:t})},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.tabSettings,a=e.currentUserFromStore,n=e.tabNames;return s.a.createElement("aside",{className:"main-sidebar sidebar-dark-primary elevation-4"},s.a.createElement("a",{className:"brand-link",onClick:this.onClickTab.bind(this,n[0])},s.a.createElement("img",{src:"dist/img/AdminLTELogo.png",alt:"Logo",className:"brand-image img-circle elevation-3"}),s.a.createElement("span",{className:"brand-text font-weight-light text-light"},"NCM Admin")),s.a.createElement("div",{className:"sidebar"},s.a.createElement("div",{className:"user-panel mt-3 pb-3 mb-3 d-flex"},s.a.createElement("div",{className:"image"},s.a.createElement("img",{src:"dist/img/user2-160x160.jpg",className:"img-circle elevation-2",alt:"User Image"})),s.a.createElement("div",{className:"info"},s.a.createElement("a",{href:"#",className:"d-block"},a.Name))),s.a.createElement("nav",{className:"mt-2"},s.a.createElement("ul",{className:"nav nav-pills nav-sidebar flex-column","data-widget":"treeview",role:"menu","data-accordion":"false"},s.a.createElement("li",{className:"nav-item has-treeview menu-open",onClick:this.onClickTab.bind(this,n[0])},s.a.createElement("a",{className:"nav-link "+(t.TabName==n[0]?"active":"")},s.a.createElement("i",{className:"nav-icon fas fa-home"}),s.a.createElement("p",null,n[0]))),s.a.createElement("li",{className:"nav-item has-treeview menu-open",onClick:this.onClickTab.bind(this,n[1])},s.a.createElement("a",{className:"nav-link "+(t.TabName==n[1]?"active":"")},s.a.createElement("i",{className:"nav-icon fas fa-user"}),s.a.createElement("p",null,n[1]))),s.a.createElement("li",{className:"nav-item has-treeview menu-open",onClick:this.onClickTab.bind(this,n[4])},s.a.createElement("a",{className:"nav-link "+(t.TabName==n[4]?"active":"")},s.a.createElement("i",{className:"nav-icon fas fa-users"}),s.a.createElement("p",null,n[4]))),s.a.createElement("li",{className:"nav-item has-treeview menu-open",onClick:this.onClickTab.bind(this,n[5])},s.a.createElement("a",{className:"nav-link "+(t.TabName==n[5]?"active":"")},s.a.createElement("i",{className:"nav-icon fas fa-tablet-alt"}),s.a.createElement("p",null,n[5]))),s.a.createElement("li",{className:"nav-item has-treeview menu-open",onClick:this.onClickTab.bind(this,n[8])},s.a.createElement("a",{className:"nav-link "+(t.TabName==n[8]?"active":"")},s.a.createElement("i",{className:"nav-icon fas fa-sitemap"}),s.a.createElement("p",null,n[8]))),s.a.createElement("li",{className:"nav-item has-treeview menu-open",onClick:this.onClickTab.bind(this,n[13])},s.a.createElement("a",{className:"nav-link "+(t.TabName==n[13]?"active":"")},s.a.createElement("i",{className:"nav-icon fas fa-tasks"}),s.a.createElement("p",null,n[13]))),s.a.createElement("li",{className:"nav-item has-treeview menu-open",onClick:this.onClickTab.bind(this,n[15])},s.a.createElement("a",{className:"nav-link "+(t.TabName==n[15]?"active":"")},s.a.createElement("i",{className:"nav-icon fas fa-file"}),s.a.createElement("p",null,n[15]))),s.a.createElement("li",{className:"nav-item has-treeview menu-open",onClick:this.onClickTab.bind(this,n[18])},s.a.createElement("a",{className:"nav-link "+(t.TabName==n[18]?"active":"")},s.a.createElement("i",{className:"nav-icon fas fa-cog"}),s.a.createElement("p",null,n[18])))))))}}]),a}(n.Component),ze=Object(r.b)((function(e){return{currentUserFromStore:e.userReducer.currentUser,gameDataFromStore:e.gameReducer.gameData,tabSettings:e.userReducer.tabSettings,tabNames:e.userReducer.tabNames}}),(function(e){return{updateTabNavigation:function(t){e(x(t))}}}))(Me),_e=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return s.a.createElement("footer",{className:"main-footer"},s.a.createElement("span",null,"Copyright \xa9 2020-2021"),s.a.createElement("div",{className:"float-right d-none d-sm-inline-block"},s.a.createElement("span",null,"v1.0")))}}]),a}(n.Component),Fe=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).renderPage=function(){var e=n.props,t=e.tabSettings,a=e.tabNames;return t.TabName==a[0]?s.a.createElement(q,null):t.TabName==a[1]?s.a.createElement(ee,null):t.TabName==a[2]?s.a.createElement(ae,null):t.TabName==a[3]?s.a.createElement(se,null):t.TabName==a[4]?s.a.createElement(oe,null):t.TabName==a[5]?s.a.createElement(ce,null):t.TabName==a[6]?s.a.createElement(de,null):t.TabName==a[7]?s.a.createElement(me,null):t.TabName==a[8]?s.a.createElement(he,null):t.TabName==a[9]?s.a.createElement(be,null):t.TabName==a[10]?s.a.createElement(ve,null):t.TabName==a[11]?s.a.createElement(Ee,null):t.TabName==a[12]?s.a.createElement(Ce,null):t.TabName==a[13]?s.a.createElement(Oe,null):t.TabName==a[14]?s.a.createElement(we,null):t.TabName==a[15]?s.a.createElement(xe,null):t.TabName==a[16]?s.a.createElement(Te,null):t.TabName==a[17]?s.a.createElement(Ie,null):t.TabName==a[18]?s.a.createElement(X,null):void 0},n}return Object(p.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"wrapper"},s.a.createElement(Ue,null),s.a.createElement(ze,null),s.a.createElement("div",{className:"content-wrapper",style:{padding:"10px"}},this.renderPage()),s.a.createElement(_e,null))}}]),a}(n.Component),Ve=Object(r.b)((function(e){return{currentUserFromStore:e.userReducer.currentUser,gameDataFromStore:e.gameReducer.gameList,tabSettings:e.userReducer.tabSettings,tabNames:e.userReducer.tabNames}}),null)(Fe),Be=function(e){Object(h.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).showAlert=function(e){Object(T.confirmAlert)({title:"Login",message:e,buttons:[{label:"Ok",onClick:function(){}}],closeOnCllickOutside:!1,closeOnEscape:!1})},n.onTextChange=function(e){n.setState(Object(u.a)({},e.target.id,e.target.value))},n.state={gameName:"NCM",email:"",password:"",isLoading:!1},n.apiBase="https://ncm-heroku.herokuapp.com/api/v1//api",n}return Object(p.a)(a,[{key:"onLoginClick",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.email||!this.state.password){e.next=5;break}return e.next=3,this.loginWithTeam();case 3:e.next=6;break;case 5:this.showAlert("Credientials can't blank !!");case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loginWithTeam",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,f.a.post("https://ncm-heroku.herokuapp.com/api/v1/users/login").send({email:this.state.email,password:this.state.password});case 4:t=e.sent,(a=t.body).success?this.setState({isLoading:!1},(function(){localStorage.setItem("adminLogin",!0),localStorage.setItem("admin_access_token",a.ResponsePacket.token),n.props.history.push("/admin")})):this.setState({isLoading:!1},(function(){n.showAlert(a.message)})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),this.showAlert("Error:",e.t0.error);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement(j.a,{active:this.state.isLoading,spinner:!0},s.a.createElement("section",{className:"hold-transition login-page"},s.a.createElement("div",{className:"login-box"},s.a.createElement("div",{className:"login-logo"},s.a.createElement("a",{href:"javascript:void(0)"},s.a.createElement("b",null)," \xa0NCM")),s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body login-card-body"},s.a.createElement("p",{className:"login-box-msg"},"Sign in to start your session"),s.a.createElement("form",null,s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"text",onChange:this.onTextChange,id:"email",value:this.state.email,className:"form-control",placeholder:"email"}),s.a.createElement("div",{className:"input-group-append"})),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("input",{type:"password",className:"form-control",onChange:this.onTextChange,id:"password",value:this.state.password,placeholder:"Password"}),s.a.createElement("div",{className:"input-group-append"})),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-8"}),s.a.createElement("div",{className:"col-4"},s.a.createElement("button",{type:"button",onClick:this.onLoginClick.bind(this),className:"btn btn-primary btn-block"},"Sign In")))),s.a.createElement("div",{className:"social-auth-links text-center mb-3"},s.a.createElement("p",null,"- OR -"),s.a.createElement("a",{href:"javascript:void(0)",className:"btn btn-block btn-primary"},s.a.createElement("i",{className:"fab fa-facebook mr-2"})," Sign in using Facebook"),s.a.createElement("a",{href:"javascript:void(0)",className:"btn btn-block btn-danger"},s.a.createElement("i",{className:"fab fa-google-plus mr-2"})," Sign in using Google+")),s.a.createElement("p",{className:"mb-1"},s.a.createElement("a",{href:"javascript:void(0)"},"I forgot my password")),s.a.createElement("p",{className:"mb-0"},s.a.createElement("a",{href:"javascript:void(0)",className:"text-center"},"Register a new membership")))))))}}]),a}(n.Component),Je=Object(r.b)((function(e){return{tabSettings:e.userReducer.tabSettings,tabNames:e.userReducer.tabNames}}),(function(e){return{updateTabNavigation:function(t){e(x(t))}}}))(Be);var Ge=function(){return JSON.parse(localStorage.getItem("adminLogin"))?s.a.createElement(Ve,null):s.a.createElement(Je,null)},We=a(211),qe=a(23),He={currentUser:{Response:"",AppUserID:null,VendorID:null,UserTypeID:null,Email:"",UserType:"",Name:"Admin",ProfileImage:"",CustomerID:null,OutletID:null,OutletName:null,DeviceToken:"",VehicleRegNumber:"",IsFirstTime:!1,IsActivated:!1,Status:!1,Message:""},currentUserSetings:{SettingID:1,Currency:"",DeliveryCharges:"",IsGST:"",GSTPercentage:"",IsLanguage2:"",Language2:"",Message:""},tabSettings:{TabName:"Dashboard"},tabNames:["Dashboard","Users","Countries","States","Vendors","Devices","Roles","Roles Entity","Organization","CategoriesType","Config","DeviceLog","JobLog","JobMaster","OrgDevices","Reports","RoleDetails","UserRolesMapping","Settings"]},Ke={currentUser:He.currentUser,currentUserSettings:He.currentUserSetings,tabSettings:He.tabSettings,tabNames:He.tabNames,userList:He.userList,teamList:He.teamList,gameList:He.gameList},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.USERLOGIN_REQUEST:case v.USERLOGIN_SUCCESS:case v.USERLOGIN_FAILURE:return e;case v.STORE_CURRENT_USER:return Object(qe.a)(Object(qe.a)({},e),{},{currentUser:t.currentUser});case v.STORE_CURRENT_USER_SETTINGS:return Object(qe.a)(Object(qe.a)({},e),{},{currentUserSettings:t.currentUserSettings});case v.UPDATE_TAB_DATA:return Object(qe.a)(Object(qe.a)({},e),{},{tabSettings:t.tabSettings});case v.GET_CURRENT_USER_FROM_STORE:return Object(qe.a)(Object(qe.a)({},e),{},{currentUser:e.currentUser});default:return e}},Qe={gameData:He.gameData,gameList:He.gameList,gamePlayers:He.Players,isMeJoined:!1,gameMoves:He.Moves,gameChats:He.Chats,numberOfPlayers:He.numberOfPlayers,playerNames:He.playerNames,gameSecret:He.gameSecret,isPlayerLoggedIn:He.isPlayerLoggedIn,currentUserPlayerID:null,currentUserCredentials:null,currentGameID:null,currentGameName:"NCM",currentGameSetupData:{},currentMainTab:"",defaultRoleCards:He.DefaultRoleCards,defaultRoleNames:He.DefaultRoleNames,notificationsFromStore:[]};function Xe(e){for(var t=!1,a=0;a<e.length;a++)if(!0===e[a].isJoined){t=!0;break}return t}var Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(qe.a)(Object(qe.a)({},e),{},{isPlayerLoggedIn:t.isLogin});case E:return Object(qe.a)(Object(qe.a)({},e),{},{currentGameID:t.gameData.currentGameID,currentGameSetupData:t.gameData.currentGameSetupData});case k:return Object(qe.a)(Object(qe.a)({},e),{},{currentUserPlayerID:t.credentials?t.credentials.currentUserPlayerID:null,currentUserCredentials:t.credentials?t.credentials.currentUserCredentials:null});case C:var a=e.gameList;return a.push(t.gameData),Object(qe.a)(Object(qe.a)({},e),{},{gameList:a});case N:var n=e.gamePlayers;return Xe(n)?(n[t.playerID].isJoined=!1,Object(qe.a)(Object(qe.a)({},e),{},{currentUserPlayerID:t.playerID,gamePlayers:n,isMeJoined:Xe(n)})):(n[t.playerID].isJoined=!0,Object(qe.a)(Object(qe.a)({},e),{},{currentUserPlayerID:t.playerID,gamePlayers:n,isMeJoined:Xe(n)}));case O:var s=e.gamePlayers;return Xe(s)?e:(s[t.playerID].isJoined=!1,Object(qe.a)(Object(qe.a)({},e),{},{currentUserPlayerID:t.playerID,gamePlayers:s,isMeJoined:Xe(s)}));case w:return Object(qe.a)(Object(qe.a)({},e),{},{gamePlayers:t.playerData});case S:return Object(qe.a)(Object(qe.a)({},e),{},{currentMainTab:t.tabData.tabName});case R:return Object(qe.a)(Object(qe.a)({},e),{},{notificationsFromStore:t.notificationData});default:return e}},$e=Object(Y.c)({userReducer:Ye,gameReducer:Ze}),et=function(){return Object(Y.d)($e,Object(Y.a)(We.a))},tt=a(138),at=a(27),nt=et();var st=function(){return s.a.createElement(r.a,{store:nt},s.a.createElement(tt.a,null,s.a.createElement(at.b,{exact:!0,path:"/",render:function(){return s.a.createElement(at.a,{to:"/login"})}}),s.a.createElement(at.b,{exact:!0,pattern:"/login",path:"/login",component:Je}),s.a.createElement(at.b,{exact:!0,pattern:"/admin",path:"/admin",component:Ge})))};o.a.render(s.a.createElement(st,null),document.getElementById("root"))}},[[212,1,2]]]);
//# sourceMappingURL=main.28c88f56.chunk.js.map